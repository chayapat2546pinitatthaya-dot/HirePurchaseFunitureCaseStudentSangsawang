{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\Website_Sangswang\\\\client\\\\src\\\\pages\\\\OrderDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport axios from 'axios';\nimport './OrderDetail.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst statusConfig = {\n  pending: {\n    variant: 'warning',\n    text: 'รออนุมัติ'\n  },\n  awaiting_payment: {\n    variant: 'info',\n    text: 'รอชำระเงิน'\n  },\n  approved: {\n    variant: 'success',\n    text: 'อนุมัติแล้ว'\n  },\n  waiting_for_delivery: {\n    variant: 'primary',\n    text: 'รอจัดส่ง'\n  },\n  completed: {\n    variant: 'success',\n    text: 'ส่งมอบสำเร็จ'\n  },\n  cancelled: {\n    variant: 'danger',\n    text: 'ยกเลิกโดยผู้ดูแล'\n  },\n  cancelled_by_customer: {\n    variant: 'danger',\n    text: 'ยกเลิก'\n  }\n};\nconst formatCurrency = value => {\n  if (value == null) return '-';\n  return `฿${parseFloat(value).toLocaleString()}`;\n};\nconst INSTALLMENT_MIN_PERIODS = 2;\nconst INSTALLMENT_MAX_PERIODS = 12;\nconst DEFAULT_INSTALLMENT_PERIODS = 12;\nconst clampInstallmentPeriods = value => {\n  const num = Number(value);\n  return Math.min(Math.max(num || DEFAULT_INSTALLMENT_PERIODS, INSTALLMENT_MIN_PERIODS), INSTALLMENT_MAX_PERIODS);\n};\nconst getInstallmentRateByMonths = (months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const normalized = clampInstallmentPeriods(months);\n  // 2 เดือน: 10%, 3-12 เดือน: เพิ่มขึ้นเรื่อยๆ จนถึง 12 เดือนที่ 20%\n  if (normalized === INSTALLMENT_MIN_PERIODS) {\n    return 0.1; // 2 เดือน = 10%\n  }\n  if (normalized >= INSTALLMENT_MAX_PERIODS) {\n    return 0.2; // 12 เดือน = 20%\n  }\n  // 3-11 เดือน: คำนวณแบบ linear จาก 10% ถึง 20%\n  return 0.1 + (normalized - INSTALLMENT_MIN_PERIODS) * (0.2 - 0.1) / (INSTALLMENT_MAX_PERIODS - INSTALLMENT_MIN_PERIODS);\n};\nconst calculateInstallmentTotalFromCash = (cashPrice, months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const price = Number(cashPrice);\n  if (!Number.isFinite(price) || price <= 0) {\n    return null;\n  }\n  const rate = getInstallmentRateByMonths(months);\n  const total = price * (1 + rate);\n  return Math.round(total);\n};\n\n/**\n * คำนวณจำนวนเงินผ่อนชำระแต่ละงวดให้ถูกต้องตามหลักบัญชี\n * เดือนแรกถึงเดือนก่อนสุดท้าย: ปัดขึ้นเป็นหลักสิบ\n * เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n */\nconst calculateInstallmentAmounts = (totalAmount, periods) => {\n  const total = Number(totalAmount);\n  const numPeriods = Number(periods);\n  if (!Number.isFinite(total) || total <= 0 || !Number.isFinite(numPeriods) || numPeriods <= 0) {\n    return [];\n  }\n  if (numPeriods === 1) {\n    return [total];\n  }\n\n  // คำนวณจำนวนเงินต่อเดือนเฉลี่ย\n  const averagePerMonth = total / numPeriods;\n\n  // ปัดขึ้นเป็นหลักสิบ (ceil to nearest 10)\n  const regularAmount = Math.ceil(averagePerMonth / 10) * 10;\n\n  // เดือนแรกถึงเดือนก่อนสุดท้าย: ใช้ regularAmount\n  const amounts = [];\n  for (let i = 1; i < numPeriods; i++) {\n    amounts.push(regularAmount);\n  }\n\n  // เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n  const regularTotal = regularAmount * (numPeriods - 1);\n  const lastAmount = total - regularTotal;\n  amounts.push(lastAmount);\n  return amounts;\n};\nexport default function OrderDetail() {\n  _s();\n  var _order$installments2, _statusConfig$order$o;\n  const {\n    orderId\n  } = useParams();\n  const navigate = useNavigate();\n  const [order, setOrder] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [feedback, setFeedback] = useState({\n    type: '',\n    message: ''\n  });\n  const [isCancelling, setIsCancelling] = useState(false);\n  const paymentInfo = useMemo(() => {\n    const method = order !== null && order !== void 0 && order.payment_method ? String(order.payment_method).toLowerCase() : '';\n    if (!order) {\n      return {\n        type: 'cash',\n        label: '-',\n        note: ''\n      };\n    }\n    if (method.includes('cod') || method.includes('ปลายทาง') || method.includes('delivery')) {\n      return {\n        type: 'cod',\n        label: 'เก็บเงินปลายทาง',\n        note: 'ชำระเมื่อรับสินค้าและกรุณาเตรียมยอดให้ครบถ้วน'\n      };\n    }\n    if (method.includes('install')) {\n      return {\n        type: 'installment',\n        label: 'ผ่อนชำระ',\n        note: ''\n      };\n    }\n    return {\n      type: 'cash',\n      label: 'ชำระเต็มจำนวน',\n      note: ''\n    };\n  }, [order]);\n  const isInstallmentOrder = useMemo(() => paymentInfo.type === 'installment', [paymentInfo]);\n\n  // คำนวณยอดรวมเงินสดจากรายการสินค้า\n  const cashTotal = useMemo(() => {\n    if (!order || !Array.isArray(order.details)) {\n      return 0;\n    }\n    return order.details.reduce((sum, item) => sum + (Number(item.price) || 0) * (Number(item.quantity) || 0), 0);\n  }, [order]);\n\n  // คำนวณยอดรวมผ่อนชำระที่ถูกต้อง (ถ้าเป็น order แบบผ่อนชำระ)\n  const correctInstallmentTotal = useMemo(() => {\n    var _order$installments;\n    if (!isInstallmentOrder || !order || cashTotal <= 0) {\n      return null;\n    }\n    const periods = order.installment_periods || ((_order$installments = order.installments) === null || _order$installments === void 0 ? void 0 : _order$installments.length) || 0;\n    if (periods <= 1) {\n      return cashTotal;\n    }\n    return calculateInstallmentTotalFromCash(cashTotal, periods);\n  }, [isInstallmentOrder, order, cashTotal]);\n  const summaryColProps = useMemo(() => ({\n    md: 12,\n    lg: 6\n  }), []);\n  const shippingColProps = useMemo(() => ({\n    md: 12,\n    lg: 6\n  }), []);\n  const shippingInfo = useMemo(() => {\n    if (!order) {\n      return {\n        name: '-',\n        phone: '-',\n        address: '-',\n        telLink: ''\n      };\n    }\n\n    // ใช้ข้อมูลจาก customer ก่อน (customer_fname, customer_lname, customer_tel)\n    const customerName = [order.customer_fname, order.customer_lname].filter(Boolean).join(' ').trim();\n    const customerPhone = typeof order.customer_tel === 'string' ? order.customer_tel.trim() : '';\n\n    // ถ้าไม่มีข้อมูลจาก customer ให้ใช้ข้อมูลจาก shipping_address\n    const shipping = (order === null || order === void 0 ? void 0 : order.shipping_address) || {};\n    const shippingName = [shipping.recipientName, shipping.recipientSurname].filter(Boolean).join(' ').trim();\n    const shippingPhone = typeof shipping.phone === 'string' ? shipping.phone.trim() : '';\n    const name = customerName || shippingName || '-';\n    const phone = customerPhone || shippingPhone || '-';\n    const address = typeof shipping.address === 'string' ? shipping.address.trim() : '-';\n    const telLink = phone && phone !== '-' ? phone.replace(/[^0-9+]/g, '') : '';\n    return {\n      name: name || '-',\n      phone: phone || '-',\n      address: address || '-',\n      telLink: telLink || ''\n    };\n  }, [order]);\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await axios.get(`/api/orders/${orderId}`);\n        setOrder(response.data);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error('Error fetching order detail:', err);\n        const message = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'ไม่สามารถโหลดข้อมูลคำสั่งซื้อได้';\n        setError(message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchOrder();\n  }, [orderId]);\n  const handleCancelOrder = async () => {\n    if (!order || order.order_status !== 'pending') {\n      return;\n    }\n    const confirmed = window.confirm('ยืนยันการยกเลิกคำสั่งซื้อนี้หรือไม่?');\n    if (!confirmed) {\n      return;\n    }\n    setIsCancelling(true);\n    setFeedback({\n      type: '',\n      message: ''\n    });\n    try {\n      var _response$data2;\n      const response = await axios.put(`/api/orders/cancel/${order.order_id}`);\n      setOrder(prev => {\n        var _response$data;\n        return prev ? {\n          ...prev,\n          order_status: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.status) || 'cancelled_by_customer'\n        } : prev;\n      });\n      setFeedback({\n        type: 'success',\n        message: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || 'ยกเลิกคำสั่งซื้อสำเร็จ'\n      });\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Cancel order error:', err);\n      setFeedback({\n        type: 'danger',\n        message: ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'ไม่สามารถยกเลิกคำสั่งซื้อได้'\n      });\n    } finally {\n      setIsCancelling(false);\n    }\n  };\n  const installmentSummary = useMemo(() => {\n    if (!order || !isInstallmentOrder || !Array.isArray(order.installments) || order.installments.length === 0) {\n      return null;\n    }\n    const paidCount = order.installments.filter(item => item.payment_status === 'paid').length;\n\n    // ใช้ยอดรวมที่คำนวณใหม่ (ถ้ามี) หรือใช้ order.total_amount\n    const totalAmount = correctInstallmentTotal || order.total_amount;\n    const periods = order.installment_periods || order.installments.length;\n\n    // คำนวณจำนวนเงินแต่ละงวดให้ถูกต้องตามหลักบัญชี\n    const installmentAmounts = calculateInstallmentAmounts(totalAmount, periods);\n    return {\n      total: order.installments.length,\n      paid: paidCount,\n      remaining: order.installments.length - paidCount,\n      amounts: installmentAmounts,\n      firstAmount: installmentAmounts.length > 0 ? installmentAmounts[0] : null,\n      correctTotal: correctInstallmentTotal\n    };\n  }, [order, isInstallmentOrder, correctInstallmentTotal]);\n  const getStatusBadge = status => {\n    const config = statusConfig[status] || {\n      variant: 'secondary',\n      text: status\n    };\n    const classes = ['order-status-badge'];\n    if (status === 'pending') {\n      classes.push('order-status-badge--pending');\n    }\n    if (status === 'awaiting_payment') {\n      classes.push('order-status-badge--awaiting');\n    }\n    if (status === 'waiting_for_delivery') {\n      classes.push('order-status-badge--shipping');\n    }\n    if (status === 'completed') {\n      classes.push('order-status-badge--completed');\n    }\n    if (status === 'cancelled' || status === 'cancelled_by_customer') {\n      classes.push('order-status-badge--cancelled');\n    }\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: config.variant,\n      className: `px-3 py-2 fs-6 fw-semibold rounded-pill ${classes.join(' ')}`,\n      children: config.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-3\",\n          children: \"\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => navigate(-1),\n            children: \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/orders\",\n            className: \"btn btn-outline-secondary\",\n            children: \"\\u0E44\\u0E1B\\u0E22\\u0E31\\u0E07\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this);\n  }\n  if (!order) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-detail-page\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"order-detail-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail-card__header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-start flex-wrap gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"order-detail-card__title\",\n                children: [\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D #\", order.order_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-detail-card__meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: new Date(order.order_date).toLocaleDateString('th-TH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this), getStatusBadge(order.order_status)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/orders\",\n                className: \"btn btn-outline-secondary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-arrow-left me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this), \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail-card__body\",\n          children: [feedback.message && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: feedback.type,\n            onClose: () => setFeedback({\n              type: '',\n              message: ''\n            }),\n            dismissible: true,\n            children: feedback.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), isInstallmentOrder && /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mb-4 order-detail__section-card\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-0\",\n                  children: \"\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this), installmentSummary && /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: installmentSummary.remaining === 0 ? 'success' : 'warning',\n                  children: [\"\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E41\\u0E25\\u0E49\\u0E27 \", installmentSummary.paid, \"/\", installmentSummary.total, \" \\u0E07\\u0E27\\u0E14\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this), (_order$installments2 = order.installments) !== null && _order$installments2 !== void 0 && _order$installments2.length ? /*#__PURE__*/_jsxDEV(Table, {\n                responsive: true,\n                hover: true,\n                className: \"mb-0 order-detail__installments\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E07\\u0E27\\u0E14\\u0E17\\u0E35\\u0E48\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E22\\u0E2D\\u0E14\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 371,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: order.installments.map((item, index) => {\n                    var _installmentSummary$a, _installmentSummary$a2;\n                    // ใช้จำนวนเงินที่คำนวณใหม่จาก installmentSummary (ถ้ามี) หรือใช้ installment_amount จาก database\n                    const installmentAmount = (_installmentSummary$a = installmentSummary === null || installmentSummary === void 0 ? void 0 : (_installmentSummary$a2 = installmentSummary.amounts) === null || _installmentSummary$a2 === void 0 ? void 0 : _installmentSummary$a2[index]) !== null && _installmentSummary$a !== void 0 ? _installmentSummary$a : item.installment_amount;\n                    // แสดง due_date เฉพาะเมื่อ order_status เป็น 'approved' หรือสถานะที่อนุมัติแล้ว\n                    const isApproved = ['approved', 'awaiting_payment', 'waiting_for_delivery', 'completed'].includes(order.order_status);\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.installment_number\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 385,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: formatCurrency(installmentAmount)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: isApproved && item.payment_due_date ? new Date(item.payment_due_date).toLocaleDateString('th-TH') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 387,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item.payment_date ? new Date(item.payment_date).toLocaleDateString('th-TH') : '-'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 35\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Badge, {\n                          bg: item.payment_status === 'paid' ? 'success' : 'secondary',\n                          children: item.payment_status === 'paid' ? 'ชำระแล้ว' : 'รอชำระ'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 398,\n                          columnNumber: 37\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 397,\n                        columnNumber: 35\n                      }, this)]\n                    }, item.installment_id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 384,\n                      columnNumber: 33\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-0 text-muted\",\n                children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E07\\u0E27\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mb-4 order-detail__section-card\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-0\",\n                  children: \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"light\",\n                  text: \"dark\",\n                  children: [order.details.length, \" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table, {\n                responsive: true,\n                hover: true,\n                className: \"order-detail__products mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E23\\u0E32\\u0E04\\u0E32\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"text-end\",\n                      children: \"\\u0E23\\u0E27\\u0E21\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: order.details.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex align-items-center gap-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"order-detail__thumb\",\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: item.product_image,\n                            alt: item.product_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 438,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 437,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: item.product_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 441,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 440,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 436,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal && cashTotal > 0 ? formatCurrency(Math.round(Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal))) : formatCurrency(item.price)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 445,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"text-end\",\n                      children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal && cashTotal > 0 ? formatCurrency(Math.round(Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal))) : formatCurrency(item.price * item.quantity)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 25\n                    }, this)]\n                  }, item.order_detail_id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"g-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              ...summaryColProps,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"order-detail__summary-card h-100\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-3\",\n                    children: \"\\u0E2A\\u0E23\\u0E38\\u0E1B\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                    className: \"row mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal ? formatCurrency(installmentSummary.correctTotal) : formatCurrency(order.total_amount)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E27\\u0E34\\u0E18\\u0E35\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: paymentInfo.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E07\\u0E27\\u0E14\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 482,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder ? `${order.installment_periods} งวด` : paymentInfo.type === 'cod' ? 'เก็บเงินเพียงครั้งเดียวตอนรับสินค้า' : 'ชำระเต็มจำนวน'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E22\\u0E2D\\u0E14\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder ? formatCurrency((installmentSummary === null || installmentSummary === void 0 ? void 0 : installmentSummary.firstAmount) || order.monthly_payment || 0) : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 491,\n                      columnNumber: 23\n                    }, this), paymentInfo.note && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                        className: \"col-sm-5\",\n                        children: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 498,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                        className: \"col-sm-7\",\n                        children: paymentInfo.note\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 499,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: [((_statusConfig$order$o = statusConfig[order.order_status]) === null || _statusConfig$order$o === void 0 ? void 0 : _statusConfig$order$o.text) || order.order_status, order.order_status === 'cancelled' && order.cancel_reason && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-2\",\n                        children: /*#__PURE__*/_jsxDEV(Alert, {\n                          variant: \"danger\",\n                          className: \"mb-0\",\n                          style: {\n                            fontSize: '0.9rem'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"\\u0E2A\\u0E32\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E01\\u0E32\\u0E23\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 508,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-1\",\n                            children: order.cancel_reason\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 509,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 507,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 506,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              ...shippingColProps,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"order-detail__summary-card h-100\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-3\",\n                    children: \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E25\\u0E30\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                    className: \"row mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-4\",\n                      children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 523,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-8\",\n                      children: shippingInfo.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 524,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-4\",\n                      children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 525,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-8\",\n                      children: shippingInfo.phone !== '-' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#000',\n                          fontSize: '1.1rem'\n                        },\n                        children: shippingInfo.phone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 528,\n                        columnNumber: 27\n                      }, this) : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 526,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-4\",\n                      children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-8\",\n                      children: shippingInfo.address !== '-' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"order-detail__shipping-address\",\n                        children: shippingInfo.address\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 538,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#000',\n                          fontSize: '1.1rem'\n                        },\n                        children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E23\\u0E30\\u0E1A\\u0E38\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 540,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), order.order_status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail__footer\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            size: \"lg\",\n            className: \"order-detail__cancel-btn\",\n            onClick: handleCancelOrder,\n            disabled: isCancelling,\n            children: isCancelling ? 'กำลังยกเลิก...' : 'ยกเลิกคำสั่งซื้อ'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 326,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderDetail, \"EYzBbyKprbBlDAh65usw0g7Lpu0=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = OrderDetail;\nvar _c;\n$RefreshReg$(_c, \"OrderDetail\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","Link","useParams","useNavigate","Container","Card","Table","Badge","Button","Alert","Row","Col","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","statusConfig","pending","variant","text","awaiting_payment","approved","waiting_for_delivery","completed","cancelled","cancelled_by_customer","formatCurrency","value","parseFloat","toLocaleString","INSTALLMENT_MIN_PERIODS","INSTALLMENT_MAX_PERIODS","DEFAULT_INSTALLMENT_PERIODS","clampInstallmentPeriods","num","Number","Math","min","max","getInstallmentRateByMonths","months","normalized","calculateInstallmentTotalFromCash","cashPrice","price","isFinite","rate","total","round","calculateInstallmentAmounts","totalAmount","periods","numPeriods","averagePerMonth","regularAmount","ceil","amounts","i","push","regularTotal","lastAmount","OrderDetail","_s","_order$installments2","_statusConfig$order$o","orderId","navigate","order","setOrder","isLoading","setIsLoading","error","setError","feedback","setFeedback","type","message","isCancelling","setIsCancelling","paymentInfo","method","payment_method","String","toLowerCase","label","note","includes","isInstallmentOrder","cashTotal","Array","isArray","details","reduce","sum","item","quantity","correctInstallmentTotal","_order$installments","installment_periods","installments","length","summaryColProps","md","lg","shippingColProps","shippingInfo","name","phone","address","telLink","customerName","customer_fname","customer_lname","filter","Boolean","join","trim","customerPhone","customer_tel","shipping","shipping_address","shippingName","recipientName","recipientSurname","shippingPhone","replace","fetchOrder","response","get","data","err","_err$response","_err$response$data","console","handleCancelOrder","order_status","confirmed","window","confirm","_response$data2","put","order_id","prev","_response$data","status","_err$response2","_err$response2$data","installmentSummary","paidCount","payment_status","total_amount","installmentAmounts","paid","remaining","firstAmount","correctTotal","getStatusBadge","config","classes","bg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","to","Date","order_date","toLocaleDateString","onClose","dismissible","Body","responsive","hover","map","index","_installmentSummary$a","_installmentSummary$a2","installmentAmount","installment_amount","isApproved","installment_number","payment_due_date","payment_date","installment_id","src","product_image","alt","product_name","order_detail_id","monthly_payment","cancel_reason","style","fontSize","color","size","disabled","_c","$RefreshReg$"],"sources":["D:/xampp/htdocs/Website_Sangswang/client/src/pages/OrderDetail.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport axios from 'axios';\nimport './OrderDetail.css';\n\nconst statusConfig = {\n  pending: { variant: 'warning', text: 'รออนุมัติ' },\n  awaiting_payment: { variant: 'info', text: 'รอชำระเงิน' },\n  approved: { variant: 'success', text: 'อนุมัติแล้ว' },\n  waiting_for_delivery: { variant: 'primary', text: 'รอจัดส่ง' },\n  completed: { variant: 'success', text: 'ส่งมอบสำเร็จ' },\n  cancelled: { variant: 'danger', text: 'ยกเลิกโดยผู้ดูแล' },\n  cancelled_by_customer: { variant: 'danger', text: 'ยกเลิก' }\n};\n\nconst formatCurrency = (value) => {\n  if (value == null) return '-';\n  return `฿${parseFloat(value).toLocaleString()}`;\n};\n\nconst INSTALLMENT_MIN_PERIODS = 2;\nconst INSTALLMENT_MAX_PERIODS = 12;\nconst DEFAULT_INSTALLMENT_PERIODS = 12;\n\nconst clampInstallmentPeriods = (value) => {\n  const num = Number(value);\n  return Math.min(Math.max(num || DEFAULT_INSTALLMENT_PERIODS, INSTALLMENT_MIN_PERIODS), INSTALLMENT_MAX_PERIODS);\n};\n\nconst getInstallmentRateByMonths = (months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const normalized = clampInstallmentPeriods(months);\n  // 2 เดือน: 10%, 3-12 เดือน: เพิ่มขึ้นเรื่อยๆ จนถึง 12 เดือนที่ 20%\n  if (normalized === INSTALLMENT_MIN_PERIODS) {\n    return 0.1; // 2 เดือน = 10%\n  }\n  if (normalized >= INSTALLMENT_MAX_PERIODS) {\n    return 0.2; // 12 เดือน = 20%\n  }\n  // 3-11 เดือน: คำนวณแบบ linear จาก 10% ถึง 20%\n  return 0.1 + (normalized - INSTALLMENT_MIN_PERIODS) * (0.2 - 0.1) / (INSTALLMENT_MAX_PERIODS - INSTALLMENT_MIN_PERIODS);\n};\n\nconst calculateInstallmentTotalFromCash = (cashPrice, months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const price = Number(cashPrice);\n  if (!Number.isFinite(price) || price <= 0) {\n    return null;\n  }\n  const rate = getInstallmentRateByMonths(months);\n  const total = price * (1 + rate);\n  return Math.round(total);\n};\n\n/**\n * คำนวณจำนวนเงินผ่อนชำระแต่ละงวดให้ถูกต้องตามหลักบัญชี\n * เดือนแรกถึงเดือนก่อนสุดท้าย: ปัดขึ้นเป็นหลักสิบ\n * เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n */\nconst calculateInstallmentAmounts = (totalAmount, periods) => {\n  const total = Number(totalAmount);\n  const numPeriods = Number(periods);\n  \n  if (!Number.isFinite(total) || total <= 0 || !Number.isFinite(numPeriods) || numPeriods <= 0) {\n    return [];\n  }\n  \n  if (numPeriods === 1) {\n    return [total];\n  }\n  \n  // คำนวณจำนวนเงินต่อเดือนเฉลี่ย\n  const averagePerMonth = total / numPeriods;\n  \n  // ปัดขึ้นเป็นหลักสิบ (ceil to nearest 10)\n  const regularAmount = Math.ceil(averagePerMonth / 10) * 10;\n  \n  // เดือนแรกถึงเดือนก่อนสุดท้าย: ใช้ regularAmount\n  const amounts = [];\n  for (let i = 1; i < numPeriods; i++) {\n    amounts.push(regularAmount);\n  }\n  \n  // เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n  const regularTotal = regularAmount * (numPeriods - 1);\n  const lastAmount = total - regularTotal;\n  amounts.push(lastAmount);\n  \n  return amounts;\n};\n\nexport default function OrderDetail() {\n  const { orderId } = useParams();\n  const navigate = useNavigate();\n  const [order, setOrder] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [feedback, setFeedback] = useState({ type: '', message: '' });\n  const [isCancelling, setIsCancelling] = useState(false);\n\n  const paymentInfo = useMemo(() => {\n    const method = order?.payment_method ? String(order.payment_method).toLowerCase() : '';\n    if (!order) {\n      return { type: 'cash', label: '-', note: '' };\n    }\n    if (method.includes('cod') || method.includes('ปลายทาง') || method.includes('delivery')) {\n      return {\n        type: 'cod',\n        label: 'เก็บเงินปลายทาง',\n        note: 'ชำระเมื่อรับสินค้าและกรุณาเตรียมยอดให้ครบถ้วน'\n      };\n    }\n    if (method.includes('install')) {\n      return { type: 'installment', label: 'ผ่อนชำระ', note: '' };\n    }\n    return { type: 'cash', label: 'ชำระเต็มจำนวน', note: '' };\n  }, [order]);\n\n  const isInstallmentOrder = useMemo(() => paymentInfo.type === 'installment', [paymentInfo]);\n\n  // คำนวณยอดรวมเงินสดจากรายการสินค้า\n  const cashTotal = useMemo(() => {\n    if (!order || !Array.isArray(order.details)) {\n      return 0;\n    }\n    return order.details.reduce((sum, item) => sum + (Number(item.price) || 0) * (Number(item.quantity) || 0), 0);\n  }, [order]);\n\n  // คำนวณยอดรวมผ่อนชำระที่ถูกต้อง (ถ้าเป็น order แบบผ่อนชำระ)\n  const correctInstallmentTotal = useMemo(() => {\n    if (!isInstallmentOrder || !order || cashTotal <= 0) {\n      return null;\n    }\n    const periods = order.installment_periods || order.installments?.length || 0;\n    if (periods <= 1) {\n      return cashTotal;\n    }\n    return calculateInstallmentTotalFromCash(cashTotal, periods);\n  }, [isInstallmentOrder, order, cashTotal]);\n\n  const summaryColProps = useMemo(() => ({ md: 12, lg: 6 }), []);\n  const shippingColProps = useMemo(() => ({ md: 12, lg: 6 }), []);\n\n  const shippingInfo = useMemo(() => {\n    if (!order) {\n      return {\n        name: '-',\n        phone: '-',\n        address: '-',\n        telLink: ''\n      };\n    }\n\n    // ใช้ข้อมูลจาก customer ก่อน (customer_fname, customer_lname, customer_tel)\n    const customerName = [order.customer_fname, order.customer_lname].filter(Boolean).join(' ').trim();\n    const customerPhone = typeof order.customer_tel === 'string' ? order.customer_tel.trim() : '';\n\n    // ถ้าไม่มีข้อมูลจาก customer ให้ใช้ข้อมูลจาก shipping_address\n    const shipping = order?.shipping_address || {};\n    const shippingName = [shipping.recipientName, shipping.recipientSurname].filter(Boolean).join(' ').trim();\n    const shippingPhone = typeof shipping.phone === 'string' ? shipping.phone.trim() : '';\n\n    const name = customerName || shippingName || '-';\n    const phone = customerPhone || shippingPhone || '-';\n    const address = typeof shipping.address === 'string' ? shipping.address.trim() : '-';\n    const telLink = phone && phone !== '-' ? phone.replace(/[^0-9+]/g, '') : '';\n\n    return {\n      name: name || '-',\n      phone: phone || '-',\n      address: address || '-',\n      telLink: telLink || ''\n    };\n  }, [order]);\n\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await axios.get(`/api/orders/${orderId}`);\n        setOrder(response.data);\n      } catch (err) {\n        console.error('Error fetching order detail:', err);\n        const message = err.response?.data?.error || 'ไม่สามารถโหลดข้อมูลคำสั่งซื้อได้';\n        setError(message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId]);\n\n  const handleCancelOrder = async () => {\n    if (!order || order.order_status !== 'pending') {\n      return;\n    }\n    const confirmed = window.confirm('ยืนยันการยกเลิกคำสั่งซื้อนี้หรือไม่?');\n    if (!confirmed) {\n      return;\n    }\n\n    setIsCancelling(true);\n    setFeedback({ type: '', message: '' });\n\n    try {\n      const response = await axios.put(`/api/orders/cancel/${order.order_id}`);\n      setOrder((prev) =>\n        prev\n          ? {\n              ...prev,\n              order_status: response.data?.status || 'cancelled_by_customer'\n            }\n          : prev\n      );\n      setFeedback({ type: 'success', message: response.data?.message || 'ยกเลิกคำสั่งซื้อสำเร็จ' });\n    } catch (err) {\n      console.error('Cancel order error:', err);\n      setFeedback({\n        type: 'danger',\n        message: err.response?.data?.error || 'ไม่สามารถยกเลิกคำสั่งซื้อได้'\n      });\n    } finally {\n      setIsCancelling(false);\n    }\n  };\n\n  const installmentSummary = useMemo(() => {\n    if (\n      !order ||\n      !isInstallmentOrder ||\n      !Array.isArray(order.installments) ||\n      order.installments.length === 0\n    ) {\n      return null;\n    }\n\n    const paidCount = order.installments.filter((item) => item.payment_status === 'paid').length;\n    \n    // ใช้ยอดรวมที่คำนวณใหม่ (ถ้ามี) หรือใช้ order.total_amount\n    const totalAmount = correctInstallmentTotal || order.total_amount;\n    const periods = order.installment_periods || order.installments.length;\n    \n    // คำนวณจำนวนเงินแต่ละงวดให้ถูกต้องตามหลักบัญชี\n    const installmentAmounts = calculateInstallmentAmounts(totalAmount, periods);\n    \n    return {\n      total: order.installments.length,\n      paid: paidCount,\n      remaining: order.installments.length - paidCount,\n      amounts: installmentAmounts,\n      firstAmount: installmentAmounts.length > 0 ? installmentAmounts[0] : null,\n      correctTotal: correctInstallmentTotal\n    };\n  }, [order, isInstallmentOrder, correctInstallmentTotal]);\n\n  const getStatusBadge = (status) => {\n    const config = statusConfig[status] || { variant: 'secondary', text: status };\n    const classes = ['order-status-badge'];\n    if (status === 'pending') {\n      classes.push('order-status-badge--pending');\n    }\n    if (status === 'awaiting_payment') {\n      classes.push('order-status-badge--awaiting');\n    }\n    if (status === 'waiting_for_delivery') {\n      classes.push('order-status-badge--shipping');\n    }\n    if (status === 'completed') {\n      classes.push('order-status-badge--completed');\n    }\n    if (status === 'cancelled' || status === 'cancelled_by_customer') {\n      classes.push('order-status-badge--cancelled');\n    }\n    return (\n      <Badge\n        bg={config.variant}\n        className={`px-3 py-2 fs-6 fw-semibold rounded-pill ${classes.join(' ')}`}\n      >\n        {config.text}\n      </Badge>\n    );\n  };\n\n  if (isLoading) {\n    return (\n      <Container className=\"my-5\">\n        <div className=\"text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container className=\"my-5\">\n        <Alert variant=\"danger\">\n          <h4 className=\"mb-3\">มีข้อผิดพลาด</h4>\n          <p>{error}</p>\n          <div className=\"d-flex gap-2\">\n            <Button variant=\"primary\" onClick={() => navigate(-1)}>\n              ย้อนกลับ\n            </Button>\n            <Link to=\"/orders\" className=\"btn btn-outline-secondary\">\n              ไปยังรายการคำสั่งซื้อ\n            </Link>\n          </div>\n        </Alert>\n      </Container>\n    );\n  }\n\n  if (!order) {\n    return null;\n  }\n\n  return (\n    <div className=\"order-detail-page\">\n      <Container>\n        <Card className=\"order-detail-card\">\n          <div className=\"order-detail-card__header\">\n            <div className=\"d-flex justify-content-between align-items-start flex-wrap gap-3\">\n              <div>\n                <h2 className=\"order-detail-card__title\">รายละเอียดคำสั่งซื้อ #{order.order_id}</h2>\n                <div className=\"order-detail-card__meta\">\n                  <span>{new Date(order.order_date).toLocaleDateString('th-TH')}</span>\n                  {getStatusBadge(order.order_status)}\n                </div>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <Link to=\"/orders\" className=\"btn btn-outline-secondary\">\n                  <i className=\"bi bi-arrow-left me-2\"></i>\n                  กลับไปหน้าคำสั่งซื้อ\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"order-detail-card__body\">\n            {feedback.message && (\n              <Alert variant={feedback.type} onClose={() => setFeedback({ type: '', message: '' })} dismissible>\n                {feedback.message}\n              </Alert>\n            )}\n\n            {/* ตารางการผ่อนชำระ - ข้างบนเต็มความกว้าง (ถ้าเป็น installment order) */}\n            {isInstallmentOrder && (\n              <Card className=\"mb-4 order-detail__section-card\">\n                <Card.Body>\n                  <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                    <h5 className=\"mb-0\">ตารางการผ่อนชำระ</h5>\n                    {installmentSummary && (\n                      <Badge bg={installmentSummary.remaining === 0 ? 'success' : 'warning'}>\n                        ชำระแล้ว {installmentSummary.paid}/{installmentSummary.total} งวด\n                      </Badge>\n                    )}\n                  </div>\n                  {order.installments?.length ? (\n                    <Table responsive hover className=\"mb-0 order-detail__installments\">\n                      <thead>\n                        <tr>\n                          <th>งวดที่</th>\n                          <th>ยอดชำระ</th>\n                          <th>กำหนดชำระ</th>\n                          <th>วันที่ชำระ</th>\n                          <th>สถานะ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                            {order.installments.map((item, index) => {\n                              // ใช้จำนวนเงินที่คำนวณใหม่จาก installmentSummary (ถ้ามี) หรือใช้ installment_amount จาก database\n                              const installmentAmount = installmentSummary?.amounts?.[index] ?? item.installment_amount;\n                              // แสดง due_date เฉพาะเมื่อ order_status เป็น 'approved' หรือสถานะที่อนุมัติแล้ว\n                              const isApproved = ['approved', 'awaiting_payment', 'waiting_for_delivery', 'completed'].includes(order.order_status);\n                              return (\n                                <tr key={item.installment_id}>\n                                  <td>{item.installment_number}</td>\n                                  <td>{formatCurrency(installmentAmount)}</td>\n                                  <td>\n                                    {isApproved && item.payment_due_date\n                                      ? new Date(item.payment_due_date).toLocaleDateString('th-TH')\n                                      : '-'}\n                                  </td>\n                                  <td>\n                                    {item.payment_date\n                                      ? new Date(item.payment_date).toLocaleDateString('th-TH')\n                                      : '-'}\n                                  </td>\n                                  <td>\n                                    <Badge bg={item.payment_status === 'paid' ? 'success' : 'secondary'}>\n                                      {item.payment_status === 'paid' ? 'ชำระแล้ว' : 'รอชำระ'}\n                                    </Badge>\n                                  </td>\n                                </tr>\n                              );\n                            })}\n                      </tbody>\n                    </Table>\n                  ) : (\n                    <p className=\"mb-0 text-muted\">ไม่มีข้อมูลงวดการผ่อนชำระ</p>\n                  )}\n                </Card.Body>\n              </Card>\n            )}\n\n            {/* รายการสินค้า - ข้างล่างเต็มความกว้าง */}\n            <Card className=\"mb-4 order-detail__section-card\">\n              <Card.Body>\n                <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                  <h5 className=\"mb-0\">รายการสินค้า</h5>\n                  <Badge bg=\"light\" text=\"dark\">\n                    {order.details.length} รายการ\n                  </Badge>\n                </div>\n                <Table responsive hover className=\"order-detail__products mb-0\">\n                  <thead>\n                    <tr>\n                      <th>สินค้า</th>\n                      <th>ราคา</th>\n                      <th>จำนวน</th>\n                      <th className=\"text-end\">รวม</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {order.details.map((item) => (\n                      <tr key={item.order_detail_id}>\n                        <td>\n                          <div className=\"d-flex align-items-center gap-3\">\n                            <div className=\"order-detail__thumb\">\n                              <img src={item.product_image} alt={item.product_name} />\n                            </div>\n                            <div>\n                              <strong>{item.product_name}</strong>\n                            </div>\n                          </div>\n                        </td>\n                        <td>\n                          {isInstallmentOrder && installmentSummary?.correctTotal && cashTotal > 0\n                            ? formatCurrency(\n                                Math.round((Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal)))\n                              )\n                            : formatCurrency(item.price)}\n                        </td>\n                        <td>{item.quantity}</td>\n                        <td className=\"text-end\">\n                          {isInstallmentOrder && installmentSummary?.correctTotal && cashTotal > 0\n                            ? formatCurrency(\n                                Math.round((Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal)))\n                              )\n                            : formatCurrency(item.price * item.quantity)}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>\n\n            {/* สรุปคำสั่งซื้อ + ข้อมูลผู้รับ - ข้างล่างสุด แบ่งครึ่ง */}\n            <Row className=\"g-4 mb-4\">\n              <Col {...summaryColProps}>\n                <Card className=\"order-detail__summary-card h-100\">\n                  <Card.Body>\n                    <h5 className=\"mb-3\">สรุปคำสั่งซื้อ</h5>\n                    <dl className=\"row mb-0\">\n                      <dt className=\"col-sm-5\">ยอดรวม</dt>\n                      <dd className=\"col-sm-7\">\n                        {isInstallmentOrder && installmentSummary?.correctTotal\n                          ? formatCurrency(installmentSummary.correctTotal)\n                          : formatCurrency(order.total_amount)}\n                      </dd>\n                      <dt className=\"col-sm-5\">วิธีชำระเงิน</dt>\n                      <dd className=\"col-sm-7\">{paymentInfo.label}</dd>\n                      <dt className=\"col-sm-5\">จำนวนงวด</dt>\n                      <dd className=\"col-sm-7\">\n                        {isInstallmentOrder\n                          ? `${order.installment_periods} งวด`\n                          : paymentInfo.type === 'cod'\n                          ? 'เก็บเงินเพียงครั้งเดียวตอนรับสินค้า'\n                          : 'ชำระเต็มจำนวน'}\n                      </dd>\n                      <dt className=\"col-sm-5\">ยอดผ่อนต่อเดือน</dt>\n                      <dd className=\"col-sm-7\">\n                        {isInstallmentOrder \n                          ? formatCurrency(installmentSummary?.firstAmount || order.monthly_payment || 0)\n                          : '-'}\n                      </dd>\n                      {paymentInfo.note && (\n                        <>\n                          <dt className=\"col-sm-5\">หมายเหตุ</dt>\n                          <dd className=\"col-sm-7\">{paymentInfo.note}</dd>\n                        </>\n                      )}\n                      <dt className=\"col-sm-5\">สถานะล่าสุด</dt>\n                      <dd className=\"col-sm-7\">\n                        {statusConfig[order.order_status]?.text || order.order_status}\n                        {order.order_status === 'cancelled' && order.cancel_reason && (\n                          <div className=\"mt-2\">\n                            <Alert variant=\"danger\" className=\"mb-0\" style={{ fontSize: '0.9rem' }}>\n                              <strong>สาเหตุการยกเลิก:</strong>\n                              <div className=\"mt-1\">{order.cancel_reason}</div>\n                            </Alert>\n                          </div>\n                        )}\n                      </dd>\n                    </dl>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col {...shippingColProps}>\n                <Card className=\"order-detail__summary-card h-100\">\n                  <Card.Body>\n                    <h5 className=\"mb-3\">ข้อมูลผู้รับและที่อยู่จัดส่ง</h5>\n                    <dl className=\"row mb-0\">\n                      <dt className=\"col-sm-4\">ชื่อผู้รับ</dt>\n                      <dd className=\"col-sm-8\">{shippingInfo.name}</dd>\n                      <dt className=\"col-sm-4\">เบอร์ติดต่อ</dt>\n                      <dd className=\"col-sm-8\">\n                        {shippingInfo.phone !== '-' ? (\n                          <span style={{ color: '#000', fontSize: '1.1rem' }}>\n                            {shippingInfo.phone}\n                          </span>\n                        ) : (\n                          '-'\n                        )}\n                      </dd>\n                      <dt className=\"col-sm-4\">ที่อยู่จัดส่ง</dt>\n                      <dd className=\"col-sm-8\">\n                        {shippingInfo.address !== '-' ? (\n                          <span className=\"order-detail__shipping-address\">{shippingInfo.address}</span>\n                        ) : (\n                          <span style={{ color: '#000', fontSize: '1.1rem' }}>ยังไม่ได้ระบุที่อยู่จัดส่ง</span>\n                        )}\n                      </dd>\n                    </dl>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n          </div>\n\n          {order.order_status === 'pending' && (\n            <div className=\"order-detail__footer\">\n              <Button\n                variant=\"danger\"\n                size=\"lg\"\n                className=\"order-detail__cancel-btn\"\n                onClick={handleCancelOrder}\n                disabled={isCancelling}\n              >\n                {isCancelling ? 'กำลังยกเลิก...' : 'ยกเลิกคำสั่งซื้อ'}\n              </Button>\n            </div>\n          )}\n        </Card>\n      </Container>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}