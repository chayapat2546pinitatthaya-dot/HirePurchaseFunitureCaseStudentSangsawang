{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\Website_Sangswang\\\\client\\\\src\\\\pages\\\\Cards.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Badge from 'react-bootstrap/Badge';\nimport Table from 'react-bootstrap/Table';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Image from 'react-bootstrap/Image';\nimport axios from 'axios';\nimport './Cards.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ORDER_STATUS_MAP = {\n  pending: {\n    label: 'รออนุมัติ',\n    variant: 'warning'\n  },\n  awaiting_payment: {\n    label: 'รอชำระเงิน',\n    variant: 'info'\n  },\n  approved: {\n    label: 'อนุมัติแล้ว',\n    variant: 'success'\n  },\n  waiting_for_delivery: {\n    label: 'รอจัดส่ง',\n    variant: 'primary'\n  },\n  completed: {\n    label: 'ส่งมอบสำเร็จ',\n    variant: 'success'\n  },\n  cancelled: {\n    label: 'ยกเลิกโดยผู้ดูแล',\n    variant: 'danger'\n  },\n  cancelled_by_customer: {\n    label: 'ยกเลิก',\n    variant: 'danger'\n  }\n};\nconst formatCurrency = value => {\n  if (value == null) return '-';\n  return `฿${parseFloat(value).toLocaleString('th-TH')}`;\n};\nconst formatDate = value => {\n  if (!value) return '-';\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) return '-';\n  return date.toLocaleDateString('th-TH');\n};\nconst formatShippingAddress = value => {\n  if (!value) {\n    return '';\n  }\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    if (!trimmed) {\n      return '';\n    }\n    if (trimmed.startsWith('{')) {\n      try {\n        return formatShippingAddress(JSON.parse(trimmed));\n      } catch (error) {\n        console.warn('Failed to parse shipping address JSON:', trimmed, error);\n        return trimmed;\n      }\n    }\n    return trimmed;\n  }\n  if (typeof value === 'object') {\n    const recipientName = [value.recipientName, value.recipientSurname].filter(Boolean).join(' ').trim();\n    const lines = [];\n    if (recipientName) {\n      lines.push(recipientName);\n    }\n    if (value.phone) {\n      lines.push(`โทร: ${value.phone}`);\n    }\n    if (value.address) {\n      lines.push(value.address);\n    }\n    return lines.join('\\n');\n  }\n  return '';\n};\n\n/**\n * คำนวณจำนวนเงินผ่อนชำระแต่ละงวดให้ถูกต้องตามหลักบัญชี\n */\nconst calculateInstallmentAmounts = (totalAmount, periods) => {\n  const total = Number(totalAmount);\n  const numPeriods = Number(periods);\n  if (!Number.isFinite(total) || total <= 0 || !Number.isFinite(numPeriods) || numPeriods <= 0) {\n    return [];\n  }\n  if (numPeriods === 1) {\n    return [total];\n  }\n  const averagePerMonth = total / numPeriods;\n  const regularAmount = Math.ceil(averagePerMonth / 10) * 10;\n  const amounts = [];\n  for (let i = 1; i < numPeriods; i++) {\n    amounts.push(regularAmount);\n  }\n  const regularTotal = regularAmount * (numPeriods - 1);\n  const lastAmount = total - regularTotal;\n  amounts.push(lastAmount);\n  return amounts;\n};\nconst isInstallmentOrder = order => {\n  if (!order) return false;\n  const periods = Number(order.installment_periods) || 0;\n  const method = order.payment_method ? String(order.payment_method).toLowerCase() : '';\n  if (method.includes('install')) return true;\n  if (method.includes('cash')) return false;\n  if (periods > 1) return true;\n  return periods >= 1 && (Number(order.monthly_payment) || 0) > 0;\n};\nconst getDaysUntilDue = date => {\n  if (!date) return null;\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  const due = new Date(date);\n  due.setHours(0, 0, 0, 0);\n  const diff = due - today;\n  return Math.ceil(diff / (1000 * 60 * 60 * 24));\n};\nexport default function Cards() {\n  _s();\n  var _orderDetail$installm, _orderDetail$installm2, _orderDetail$installm3;\n  const [orders, setOrders] = useState([]);\n  const [selectedOrderId, setSelectedOrderId] = useState(null);\n  const [orderDetail, setOrderDetail] = useState(null);\n  const [isOrdersLoading, setIsOrdersLoading] = useState(true);\n  const [isDetailLoading, setIsDetailLoading] = useState(false);\n  const [ordersError, setOrdersError] = useState('');\n  const [detailError, setDetailError] = useState('');\n  const [installmentFilter, setInstallmentFilter] = useState('all'); // all | pending | paid | overdue\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      setIsOrdersLoading(true);\n      setOrdersError('');\n      try {\n        const response = await axios.get('/api/customer/orders');\n        const rawData = Array.isArray(response.data) ? response.data : [];\n        const filtered = rawData.filter(order => order.order_status !== 'cancelled_by_customer' && order.order_status !== 'cancelled' && isInstallmentOrder(order));\n        if (filtered.length === 0) {\n          setOrders([]);\n          setSelectedOrderId(null);\n          setOrdersError(rawData.length > 0 ? 'ยังไม่มีคำสั่งซื้อที่อยู่ในแผนผ่อนชำระ (รายการที่ยกเลิกจะไม่แสดงในหน้านี้)' : 'ยังไม่มีคำสั่งซื้อ');\n          return;\n        }\n        setOrders(filtered);\n        setOrdersError('');\n        setSelectedOrderId(filtered[0].order_id);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Error fetching customer orders:', error);\n        setOrdersError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'ไม่สามารถโหลดข้อมูลคำสั่งซื้อได้');\n      } finally {\n        setIsOrdersLoading(false);\n      }\n    };\n    fetchOrders();\n  }, []);\n  useEffect(() => {\n    if (!selectedOrderId) {\n      setOrderDetail(null);\n      return;\n    }\n    const fetchOrderDetail = async () => {\n      setIsDetailLoading(true);\n      setDetailError('');\n      try {\n        const response = await axios.get(`/api/orders/${selectedOrderId}`);\n        setOrderDetail(response.data);\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        console.error('Error fetching order detail:', error);\n        setDetailError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'ไม่สามารถโหลดรายละเอียดคำสั่งซื้อได้');\n        setOrderDetail(null);\n      } finally {\n        setIsDetailLoading(false);\n      }\n    };\n    fetchOrderDetail();\n  }, [selectedOrderId]);\n  const filteredInstallments = React.useMemo(() => {\n    if (!(orderDetail !== null && orderDetail !== void 0 && orderDetail.installments)) return [];\n    return orderDetail.installments.filter(item => {\n      if (installmentFilter === 'paid') return item.payment_status === 'paid';\n      if (installmentFilter === 'pending') return item.payment_status !== 'paid';\n      if (installmentFilter === 'overdue') {\n        const days = getDaysUntilDue(item.payment_due_date);\n        return item.payment_status !== 'paid' && days !== null && days < 0;\n      }\n      return true;\n    });\n  }, [orderDetail, installmentFilter]);\n  const upcomingCount = (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$installm = orderDetail.installments) === null || _orderDetail$installm === void 0 ? void 0 : _orderDetail$installm.filter(i => i.payment_status !== 'paid').length) || 0;\n  const paidCount = (orderDetail === null || orderDetail === void 0 ? void 0 : (_orderDetail$installm2 = orderDetail.installments) === null || _orderDetail$installm2 === void 0 ? void 0 : _orderDetail$installm2.filter(i => i.payment_status === 'paid').length) || 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cards-page\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"cards-contract__header-only\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cards-contract__eyebrow\",\n            children: \"\\u0E41\\u0E1C\\u0E19\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E14\\u0E39\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E41\\u0E15\\u0E48\\u0E25\\u0E30\\u0E07\\u0E27\\u0E14\\u0E44\\u0E14\\u0E49\\u0E17\\u0E35\\u0E48\\u0E19\\u0E35\\u0E48\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-contract__selector-shell\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Select, {\n            value: selectedOrderId !== null && selectedOrderId !== void 0 ? selectedOrderId : '',\n            onChange: event => setSelectedOrderId(event.target.value || null),\n            disabled: isOrdersLoading || orders.length === 0,\n            className: \"cards-contract__selector\",\n            children: [orders.length === 0 && /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 39\n            }, this), orders.map(order => {\n              var _order$items;\n              const primaryItem = (_order$items = order.items) === null || _order$items === void 0 ? void 0 : _order$items[0];\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: order.order_id,\n                children: [\"#\", order.order_id, \" \\u2022 \", (primaryItem === null || primaryItem === void 0 ? void 0 : primaryItem.product_name) || 'ไม่ระบุสินค้า']\n              }, order.order_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cards-contract__selector-display\",\n            children: isOrdersLoading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this) : selectedOrderId ? (_selectedOrder$items => {\n              const selectedOrder = orders.find(order => order.order_id === Number(selectedOrderId));\n              const primaryItem = selectedOrder === null || selectedOrder === void 0 ? void 0 : (_selectedOrder$items = selectedOrder.items) === null || _selectedOrder$items === void 0 ? void 0 : _selectedOrder$items[0];\n              const statusKey = orderDetail === null || orderDetail === void 0 ? void 0 : orderDetail.order_status;\n              const statusConfig = ORDER_STATUS_MAP[statusKey] || {\n                label: statusKey || '-',\n                variant: 'secondary'\n              };\n              const isCancelled = statusKey === 'cancelled' || statusKey === 'cancelled_by_customer';\n              const isPending = statusKey === 'pending';\n              const isAwaitingPayment = statusKey === 'awaiting_payment';\n              const badgeClasses = ['cards-status-badge', isCancelled ? 'cards-status-badge--cancelled' : '', isPending ? 'cards-status-badge--pending' : '', isAwaitingPayment ? 'cards-status-badge--awaiting' : ''].filter(Boolean).join(' ');\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"selector-product\",\n                  children: [/*#__PURE__*/_jsxDEV(Image, {\n                    src: (primaryItem === null || primaryItem === void 0 ? void 0 : primaryItem.product_image) || 'https://via.placeholder.com/80',\n                    alt: (primaryItem === null || primaryItem === void 0 ? void 0 : primaryItem.product_name) || 'สินค้า',\n                    rounded: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: (primaryItem === null || primaryItem === void 0 ? void 0 : primaryItem.product_name) || `คำสั่งซื้อ #${(selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.order_id) || '-'}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [formatDate(selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.order_date), \" \\u2022 \", formatCurrency(selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.total_amount)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: statusConfig.variant,\n                  className: badgeClasses,\n                  children: statusConfig.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true);\n            })() : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), ordersError && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        className: \"cards-contract__alert\",\n        children: ordersError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), orderDetail && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cards-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-summary__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21\\u0E2A\\u0E31\\u0E0D\\u0E0D\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: formatCurrency(orderDetail.total_amount)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-summary__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E07\\u0E27\\u0E14\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orderDetail.installment_periods || '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-summary__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"\\u0E07\\u0E27\\u0E14\\u0E22\\u0E2D\\u0E14\\u0E1B\\u0E31\\u0E08\\u0E08\\u0E38\\u0E1A\\u0E31\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: isInstallmentOrder(orderDetail) ? (() => {\n              const amounts = calculateInstallmentAmounts(Number(orderDetail.total_amount) || 0, Number(orderDetail.installment_periods) || 0);\n              return formatCurrency(amounts.length > 0 ? amounts[0] : orderDetail.monthly_payment || 0);\n            })() : formatCurrency(orderDetail.monthly_payment || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-summary__item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"cards-summary__address\",\n            children: formatShippingAddress(orderDetail.shipping_address) || 'ไม่ได้ระบุที่อยู่จัดส่ง'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), detailError && !isDetailLoading && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        className: \"cards-contract__alert\",\n        children: detailError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this), isDetailLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cards-contract__loading\",\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          role: \"status\",\n          size: \"sm\",\n          className: \"me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: orderDetail !== null && orderDetail !== void 0 && (_orderDetail$installm3 = orderDetail.installments) !== null && _orderDetail$installm3 !== void 0 && _orderDetail$installm3.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cards-contract__table-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cards-contract__summary\",\n            children: [/*#__PURE__*/_jsxDEV(Badge, {\n              bg: \"light\",\n              text: \"dark\",\n              children: [\"\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\\u0E2D\\u0E35\\u0E01 \", upcomingCount, \" \\u0E07\\u0E27\\u0E14 \\u2022 \\u0E0A\\u0E33\\u0E23\\u0E30\\u0E41\\u0E25\\u0E49\\u0E27 \", paidCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), ((_ORDER_STATUS_MAP$ord, _ORDER_STATUS_MAP$ord2) => {\n              const summaryStatus = orderDetail.order_status;\n              const summaryClasses = ['cards-status-badge'];\n              if (summaryStatus === 'cancelled' || summaryStatus === 'cancelled_by_customer') {\n                summaryClasses.push('cards-status-badge--cancelled');\n              }\n              if (summaryStatus === 'pending') {\n                summaryClasses.push('cards-status-badge--pending');\n              }\n              if (summaryStatus === 'awaiting_payment') {\n                summaryClasses.push('cards-status-badge--awaiting');\n              }\n              return /*#__PURE__*/_jsxDEV(Badge, {\n                bg: ((_ORDER_STATUS_MAP$ord = ORDER_STATUS_MAP[orderDetail.order_status]) === null || _ORDER_STATUS_MAP$ord === void 0 ? void 0 : _ORDER_STATUS_MAP$ord.variant) || 'secondary',\n                className: summaryClasses.join(' '),\n                children: ((_ORDER_STATUS_MAP$ord2 = ORDER_STATUS_MAP[orderDetail.order_status]) === null || _ORDER_STATUS_MAP$ord2 === void 0 ? void 0 : _ORDER_STATUS_MAP$ord2.label) || orderDetail.order_status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 23\n              }, this);\n            })()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cards-contract__filters\",\n            children: /*#__PURE__*/_jsxDEV(Form.Select, {\n              value: installmentFilter,\n              onChange: e => setInstallmentFilter(e.target.value),\n              size: \"sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"\\u0E17\\u0E38\\u0E01\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pending\",\n                children: \"\\u0E23\\u0E2D\\u0E0A\\u0E33\\u0E23\\u0E30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"overdue\",\n                children: \"\\u0E40\\u0E25\\u0E22\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"paid\",\n                children: \"\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E41\\u0E25\\u0E49\\u0E27\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            responsive: true,\n            hover: true,\n            className: \"cards-contract__table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E07\\u0E27\\u0E14\\u0E17\\u0E35\\u0E48\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E22\\u0E2D\\u0E14\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [filteredInstallments.map(item => {\n                const days = getDaysUntilDue(item.payment_due_date);\n                const isPaid = item.payment_status === 'paid';\n                const isOverdue = !isPaid && days !== null && days < 0;\n                const isDueSoon = !isPaid && days !== null && days >= 0 && days <= 3;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.installment_number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatCurrency(item.installment_amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatDate(item.payment_due_date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatDate(item.payment_date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex align-items-center gap-2 flex-wrap\",\n                      children: [/*#__PURE__*/_jsxDEV(Badge, {\n                        bg: isPaid ? 'success' : 'secondary',\n                        children: isPaid ? 'ชำระแล้ว' : 'รอชำระ'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 31\n                      }, this), isOverdue && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"danger\",\n                        children: \"\\u0E40\\u0E25\\u0E22\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 45\n                      }, this), isDueSoon && /*#__PURE__*/_jsxDEV(Badge, {\n                        bg: \"warning\",\n                        text: \"dark\",\n                        children: [\"\\u0E04\\u0E23\\u0E1A\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E43\\u0E19 \", days, \" \\u0E27\\u0E31\\u0E19\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 45\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 27\n                  }, this)]\n                }, item.installment_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 25\n                }, this);\n              }), filteredInstallments.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: 5,\n                  className: \"text-center text-muted py-3\",\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E07\\u0E27\\u0E14\\u0E15\\u0E32\\u0E21\\u0E40\\u0E07\\u0E37\\u0E48\\u0E2D\\u0E19\\u0E44\\u0E02\\u0E17\\u0E35\\u0E48\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 15\n        }, this) : null\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n}\n_s(Cards, \"TFh0RAt6Mwl5hx49udRg2nZcGbs=\");\n_c = Cards;\nvar _c;\n$RefreshReg$(_c, \"Cards\");","map":{"version":3,"names":["React","useEffect","useState","Container","Badge","Table","Form","Alert","Spinner","Image","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ORDER_STATUS_MAP","pending","label","variant","awaiting_payment","approved","waiting_for_delivery","completed","cancelled","cancelled_by_customer","formatCurrency","value","parseFloat","toLocaleString","formatDate","date","Date","Number","isNaN","getTime","toLocaleDateString","formatShippingAddress","trimmed","trim","startsWith","JSON","parse","error","console","warn","recipientName","recipientSurname","filter","Boolean","join","lines","push","phone","address","calculateInstallmentAmounts","totalAmount","periods","total","numPeriods","isFinite","averagePerMonth","regularAmount","Math","ceil","amounts","i","regularTotal","lastAmount","isInstallmentOrder","order","installment_periods","method","payment_method","String","toLowerCase","includes","monthly_payment","getDaysUntilDue","today","setHours","due","diff","Cards","_s","_orderDetail$installm","_orderDetail$installm2","_orderDetail$installm3","orders","setOrders","selectedOrderId","setSelectedOrderId","orderDetail","setOrderDetail","isOrdersLoading","setIsOrdersLoading","isDetailLoading","setIsDetailLoading","ordersError","setOrdersError","detailError","setDetailError","installmentFilter","setInstallmentFilter","fetchOrders","response","get","rawData","Array","isArray","data","filtered","order_status","length","order_id","_error$response","_error$response$data","fetchOrderDetail","_error$response2","_error$response2$data","filteredInstallments","useMemo","installments","item","payment_status","days","payment_due_date","upcomingCount","paidCount","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Select","onChange","event","target","disabled","map","_order$items","primaryItem","items","product_name","_selectedOrder$items","selectedOrder","find","statusKey","statusConfig","isCancelled","isPending","isAwaitingPayment","badgeClasses","src","product_image","alt","rounded","order_date","total_amount","bg","shipping_address","animation","role","size","text","_ORDER_STATUS_MAP$ord","_ORDER_STATUS_MAP$ord2","summaryStatus","summaryClasses","e","responsive","hover","isPaid","isOverdue","isDueSoon","installment_number","installment_amount","payment_date","installment_id","colSpan","_c","$RefreshReg$"],"sources":["D:/xampp/htdocs/Website_Sangswang/client/src/pages/Cards.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Badge from 'react-bootstrap/Badge';\nimport Table from 'react-bootstrap/Table';\nimport Form from 'react-bootstrap/Form';\nimport Alert from 'react-bootstrap/Alert';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Image from 'react-bootstrap/Image';\nimport axios from 'axios';\nimport './Cards.css';\n\nconst ORDER_STATUS_MAP = {\n  pending: { label: 'รออนุมัติ', variant: 'warning' },\n  awaiting_payment: { label: 'รอชำระเงิน', variant: 'info' },\n  approved: { label: 'อนุมัติแล้ว', variant: 'success' },\n  waiting_for_delivery: { label: 'รอจัดส่ง', variant: 'primary' },\n  completed: { label: 'ส่งมอบสำเร็จ', variant: 'success' },\n  cancelled: { label: 'ยกเลิกโดยผู้ดูแล', variant: 'danger' },\n  cancelled_by_customer: { label: 'ยกเลิก', variant: 'danger' }\n};\n\nconst formatCurrency = (value) => {\n  if (value == null) return '-';\n  return `฿${parseFloat(value).toLocaleString('th-TH')}`;\n};\n\nconst formatDate = (value) => {\n  if (!value) return '-';\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) return '-';\n  return date.toLocaleDateString('th-TH');\n};\n\nconst formatShippingAddress = (value) => {\n  if (!value) {\n    return '';\n  }\n\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    if (!trimmed) {\n      return '';\n    }\n    if (trimmed.startsWith('{')) {\n      try {\n        return formatShippingAddress(JSON.parse(trimmed));\n      } catch (error) {\n        console.warn('Failed to parse shipping address JSON:', trimmed, error);\n        return trimmed;\n      }\n    }\n    return trimmed;\n  }\n\n  if (typeof value === 'object') {\n    const recipientName = [value.recipientName, value.recipientSurname]\n      .filter(Boolean)\n      .join(' ')\n      .trim();\n    const lines = [];\n    if (recipientName) {\n      lines.push(recipientName);\n    }\n    if (value.phone) {\n      lines.push(`โทร: ${value.phone}`);\n    }\n    if (value.address) {\n      lines.push(value.address);\n    }\n    return lines.join('\\n');\n  }\n\n  return '';\n};\n\n/**\n * คำนวณจำนวนเงินผ่อนชำระแต่ละงวดให้ถูกต้องตามหลักบัญชี\n */\nconst calculateInstallmentAmounts = (totalAmount, periods) => {\n  const total = Number(totalAmount);\n  const numPeriods = Number(periods);\n  \n  if (!Number.isFinite(total) || total <= 0 || !Number.isFinite(numPeriods) || numPeriods <= 0) {\n    return [];\n  }\n  \n  if (numPeriods === 1) {\n    return [total];\n  }\n  \n  const averagePerMonth = total / numPeriods;\n  const regularAmount = Math.ceil(averagePerMonth / 10) * 10;\n  \n  const amounts = [];\n  for (let i = 1; i < numPeriods; i++) {\n    amounts.push(regularAmount);\n  }\n  \n  const regularTotal = regularAmount * (numPeriods - 1);\n  const lastAmount = total - regularTotal;\n  amounts.push(lastAmount);\n  \n  return amounts;\n};\n\nconst isInstallmentOrder = (order) => {\n  if (!order) return false;\n  const periods = Number(order.installment_periods) || 0;\n  const method = order.payment_method ? String(order.payment_method).toLowerCase() : '';\n  if (method.includes('install')) return true;\n  if (method.includes('cash')) return false;\n  if (periods > 1) return true;\n  return periods >= 1 && (Number(order.monthly_payment) || 0) > 0;\n};\n\nconst getDaysUntilDue = (date) => {\n  if (!date) return null;\n  const today = new Date();\n  today.setHours(0, 0, 0, 0);\n  const due = new Date(date);\n  due.setHours(0, 0, 0, 0);\n  const diff = due - today;\n  return Math.ceil(diff / (1000 * 60 * 60 * 24));\n};\n\nexport default function Cards() {\n  const [orders, setOrders] = useState([]);\n  const [selectedOrderId, setSelectedOrderId] = useState(null);\n  const [orderDetail, setOrderDetail] = useState(null);\n  const [isOrdersLoading, setIsOrdersLoading] = useState(true);\n  const [isDetailLoading, setIsDetailLoading] = useState(false);\n  const [ordersError, setOrdersError] = useState('');\n  const [detailError, setDetailError] = useState('');\n  const [installmentFilter, setInstallmentFilter] = useState('all'); // all | pending | paid | overdue\n\n  useEffect(() => {\n    const fetchOrders = async () => {\n      setIsOrdersLoading(true);\n      setOrdersError('');\n      try {\n        const response = await axios.get('/api/customer/orders');\n        const rawData = Array.isArray(response.data) ? response.data : [];\n        const filtered = rawData.filter(\n          (order) =>\n            order.order_status !== 'cancelled_by_customer' &&\n            order.order_status !== 'cancelled' &&\n            isInstallmentOrder(order)\n        );\n\n        if (filtered.length === 0) {\n          setOrders([]);\n          setSelectedOrderId(null);\n          setOrdersError(\n            rawData.length > 0\n              ? 'ยังไม่มีคำสั่งซื้อที่อยู่ในแผนผ่อนชำระ (รายการที่ยกเลิกจะไม่แสดงในหน้านี้)'\n              : 'ยังไม่มีคำสั่งซื้อ'\n          );\n          return;\n        }\n\n        setOrders(filtered);\n        setOrdersError('');\n        setSelectedOrderId(filtered[0].order_id);\n      } catch (error) {\n        console.error('Error fetching customer orders:', error);\n        setOrdersError(error.response?.data?.error || 'ไม่สามารถโหลดข้อมูลคำสั่งซื้อได้');\n      } finally {\n        setIsOrdersLoading(false);\n      }\n    };\n\n    fetchOrders();\n  }, []);\n\n  useEffect(() => {\n    if (!selectedOrderId) {\n      setOrderDetail(null);\n      return;\n    }\n\n    const fetchOrderDetail = async () => {\n      setIsDetailLoading(true);\n      setDetailError('');\n      try {\n        const response = await axios.get(`/api/orders/${selectedOrderId}`);\n        setOrderDetail(response.data);\n      } catch (error) {\n        console.error('Error fetching order detail:', error);\n        setDetailError(error.response?.data?.error || 'ไม่สามารถโหลดรายละเอียดคำสั่งซื้อได้');\n        setOrderDetail(null);\n      } finally {\n        setIsDetailLoading(false);\n      }\n    };\n\n    fetchOrderDetail();\n  }, [selectedOrderId]);\n\n  const filteredInstallments = React.useMemo(() => {\n    if (!orderDetail?.installments) return [];\n    return orderDetail.installments.filter((item) => {\n      if (installmentFilter === 'paid') return item.payment_status === 'paid';\n      if (installmentFilter === 'pending') return item.payment_status !== 'paid';\n      if (installmentFilter === 'overdue') {\n        const days = getDaysUntilDue(item.payment_due_date);\n        return item.payment_status !== 'paid' && days !== null && days < 0;\n      }\n      return true;\n    });\n  }, [orderDetail, installmentFilter]);\n\n  const upcomingCount = orderDetail?.installments?.filter((i) => i.payment_status !== 'paid').length || 0;\n  const paidCount = orderDetail?.installments?.filter((i) => i.payment_status === 'paid').length || 0;\n\n  return (\n    <div className=\"cards-page\">\n      <Container>\n        <header className=\"cards-contract__header-only\">\n          <div>\n            <span className=\"cards-contract__eyebrow\">แผนการผ่อนชำระ</span>\n            <h1>สถานะการผ่อนชำระ</h1>\n            <p className=\"text-muted\">\n              เลือกคำสั่งซื้อเพื่อดูรายละเอียดการผ่อนชำระแต่ละงวดได้ที่นี่\n            </p>\n          </div>\n          <div className=\"cards-contract__selector-shell\">\n            <Form.Select\n              value={selectedOrderId ?? ''}\n              onChange={(event) => setSelectedOrderId(event.target.value || null)}\n              disabled={isOrdersLoading || orders.length === 0}\n              className=\"cards-contract__selector\"\n            >\n              {orders.length === 0 && <option value=\"\">ยังไม่มีคำสั่งซื้อ</option>}\n              {orders.map((order) => {\n                const primaryItem = order.items?.[0];\n                return (\n                  <option key={order.order_id} value={order.order_id}>\n                    #{order.order_id} • {primaryItem?.product_name || 'ไม่ระบุสินค้า'}\n                  </option>\n                );\n              })}\n            </Form.Select>\n            <div className=\"cards-contract__selector-display\">\n              {isOrdersLoading ? (\n                <span>กำลังโหลด...</span>\n              ) : selectedOrderId ? (\n                (() => {\n                  const selectedOrder = orders.find((order) => order.order_id === Number(selectedOrderId));\n                  const primaryItem = selectedOrder?.items?.[0];\n                  const statusKey = orderDetail?.order_status;\n                  const statusConfig = ORDER_STATUS_MAP[statusKey] || {\n                    label: statusKey || '-',\n                    variant: 'secondary'\n                  };\n                  const isCancelled =\n                    statusKey === 'cancelled' || statusKey === 'cancelled_by_customer';\n                  const isPending = statusKey === 'pending';\n                  const isAwaitingPayment = statusKey === 'awaiting_payment';\n                  const badgeClasses = [\n                    'cards-status-badge',\n                    isCancelled ? 'cards-status-badge--cancelled' : '',\n                    isPending ? 'cards-status-badge--pending' : '',\n                    isAwaitingPayment ? 'cards-status-badge--awaiting' : ''\n                  ]\n                    .filter(Boolean)\n                    .join(' ');\n                  return (\n                    <>\n                      <div className=\"selector-product\">\n                        <Image\n                          src={primaryItem?.product_image || 'https://via.placeholder.com/80'}\n                          alt={primaryItem?.product_name || 'สินค้า'}\n                          rounded\n                        />\n                        <div>\n                          <strong>{primaryItem?.product_name || `คำสั่งซื้อ #${selectedOrder?.order_id || '-'}`}</strong>\n                          <span>\n                            {formatDate(selectedOrder?.order_date)} • {formatCurrency(selectedOrder?.total_amount)}\n                          </span>\n                        </div>\n                      </div>\n                      <Badge\n                        bg={statusConfig.variant}\n                        className={badgeClasses}\n                      >\n                        {statusConfig.label}\n                      </Badge>\n                    </>\n                  );\n                })()\n              ) : (\n                <span>เลือกคำสั่งซื้อ</span>\n              )}\n            </div>\n          </div>\n        </header>\n\n        {ordersError && (\n          <Alert variant=\"danger\" className=\"cards-contract__alert\">\n            {ordersError}\n          </Alert>\n        )}\n\n        {orderDetail && (\n          <div className=\"cards-summary\">\n            <div className=\"cards-summary__item\">\n              <span className=\"label\">ยอดรวมสัญญา</span>\n              <strong>{formatCurrency(orderDetail.total_amount)}</strong>\n            </div>\n            <div className=\"cards-summary__item\">\n              <span className=\"label\">จำนวนงวดทั้งหมด</span>\n              <strong>{orderDetail.installment_periods || '-'}</strong>\n            </div>\n            <div className=\"cards-summary__item\">\n              <span className=\"label\">งวดยอดปัจจุบัน</span>\n              <strong>\n                {isInstallmentOrder(orderDetail)\n                  ? (() => {\n                      const amounts = calculateInstallmentAmounts(\n                        Number(orderDetail.total_amount) || 0,\n                        Number(orderDetail.installment_periods) || 0\n                      );\n                      return formatCurrency(amounts.length > 0 ? amounts[0] : orderDetail.monthly_payment || 0);\n                    })()\n                  : formatCurrency(orderDetail.monthly_payment || 0)}\n              </strong>\n            </div>\n            <div className=\"cards-summary__item\">\n              <span className=\"label\">ที่อยู่จัดส่ง</span>\n              <p className=\"cards-summary__address\">\n                {formatShippingAddress(orderDetail.shipping_address) || 'ไม่ได้ระบุที่อยู่จัดส่ง'}\n              </p>\n            </div>\n          </div>\n        )}\n\n        {detailError && !isDetailLoading && (\n          <Alert variant=\"danger\" className=\"cards-contract__alert\">\n            {detailError}\n          </Alert>\n        )}\n\n        {isDetailLoading ? (\n          <div className=\"cards-contract__loading\">\n            <Spinner animation=\"border\" role=\"status\" size=\"sm\" className=\"me-2\" />\n            <span>กำลังโหลดตารางผ่อนชำระ...</span>\n          </div>\n        ) : (\n          <>\n            {orderDetail?.installments?.length ? (\n              <div className=\"cards-contract__table-wrapper\">\n                <div className=\"cards-contract__summary\">\n                  <Badge bg=\"light\" text=\"dark\">\n                    เหลืออีก {upcomingCount} งวด • ชำระแล้ว {paidCount}\n                  </Badge>\n                  {(() => {\n                    const summaryStatus = orderDetail.order_status;\n                    const summaryClasses = ['cards-status-badge'];\n                    if (summaryStatus === 'cancelled' || summaryStatus === 'cancelled_by_customer') {\n                      summaryClasses.push('cards-status-badge--cancelled');\n                    }\n                    if (summaryStatus === 'pending') {\n                      summaryClasses.push('cards-status-badge--pending');\n                    }\n                    if (summaryStatus === 'awaiting_payment') {\n                      summaryClasses.push('cards-status-badge--awaiting');\n                    }\n                    return (\n                      <Badge\n                        bg={ORDER_STATUS_MAP[orderDetail.order_status]?.variant || 'secondary'}\n                        className={summaryClasses.join(' ')}\n                      >\n                        {ORDER_STATUS_MAP[orderDetail.order_status]?.label || orderDetail.order_status}\n                      </Badge>\n                    );\n                  })()}\n                </div>\n                <div className=\"cards-contract__filters\">\n                  <Form.Select\n                    value={installmentFilter}\n                    onChange={(e) => setInstallmentFilter(e.target.value)}\n                    size=\"sm\"\n                  >\n                    <option value=\"all\">ทุกสถานะ</option>\n                    <option value=\"pending\">รอชำระ</option>\n                    <option value=\"overdue\">เลยกำหนด</option>\n                    <option value=\"paid\">ชำระแล้ว</option>\n                  </Form.Select>\n                </div>\n                <Table responsive hover className=\"cards-contract__table\">\n                  <thead>\n                    <tr>\n                      <th>งวดที่</th>\n                      <th>ยอดชำระ</th>\n                      <th>กำหนดชำระ</th>\n                      <th>วันที่ชำระ</th>\n                      <th>สถานะ</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {filteredInstallments.map((item) => {\n                      const days = getDaysUntilDue(item.payment_due_date);\n                      const isPaid = item.payment_status === 'paid';\n                      const isOverdue = !isPaid && days !== null && days < 0;\n                      const isDueSoon = !isPaid && days !== null && days >= 0 && days <= 3;\n                      return (\n                        <tr key={item.installment_id}>\n                          <td>{item.installment_number}</td>\n                          <td>{formatCurrency(item.installment_amount)}</td>\n                          <td>{formatDate(item.payment_due_date)}</td>\n                          <td>{formatDate(item.payment_date)}</td>\n                          <td>\n                            <div className=\"d-flex align-items-center gap-2 flex-wrap\">\n                              <Badge bg={isPaid ? 'success' : 'secondary'}>\n                                {isPaid ? 'ชำระแล้ว' : 'รอชำระ'}\n                              </Badge>\n                              {isOverdue && <Badge bg=\"danger\">เลยกำหนด</Badge>}\n                              {isDueSoon && <Badge bg=\"warning\" text=\"dark\">ครบกำหนดใน {days} วัน</Badge>}\n                            </div>\n                          </td>\n                        </tr>\n                      );\n                    })}\n                    {filteredInstallments.length === 0 && (\n                      <tr>\n                        <td colSpan={5} className=\"text-center text-muted py-3\">\n                          ไม่มีงวดตามเงื่อนไขที่เลือก\n                        </td>\n                      </tr>\n                    )}\n                  </tbody>\n                </Table>\n              </div>\n            ) : null}\n          </>\n        )}\n      </Container>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}