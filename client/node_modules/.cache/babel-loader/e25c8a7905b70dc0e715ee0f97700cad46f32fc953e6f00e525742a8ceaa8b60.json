{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\sangsawang_furniture_project-master\\\\client\\\\src\\\\pages\\\\OrderDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport axios from 'axios';\nimport './OrderDetail.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst statusConfig = {\n  pending: {\n    variant: 'warning',\n    text: 'รออนุมัติ'\n  },\n  awaiting_payment: {\n    variant: 'info',\n    text: 'รอชำระเงิน'\n  },\n  approved: {\n    variant: 'success',\n    text: 'อนุมัติแล้ว'\n  },\n  waiting_for_delivery: {\n    variant: 'primary',\n    text: 'รอจัดส่ง'\n  },\n  completed: {\n    variant: 'success',\n    text: 'ส่งมอบสำเร็จ'\n  },\n  cancelled: {\n    variant: 'danger',\n    text: 'ยกเลิกโดยผู้ดูแล'\n  },\n  cancelled_by_customer: {\n    variant: 'danger',\n    text: 'ยกเลิก'\n  }\n};\nconst formatCurrency = value => {\n  if (value == null) return '-';\n  return `฿${parseFloat(value).toLocaleString()}`;\n};\nconst INSTALLMENT_MIN_PERIODS = 2;\nconst INSTALLMENT_MAX_PERIODS = 12;\nconst DEFAULT_INSTALLMENT_PERIODS = 12;\nconst clampInstallmentPeriods = value => {\n  const num = Number(value);\n  return Math.min(Math.max(num || DEFAULT_INSTALLMENT_PERIODS, INSTALLMENT_MIN_PERIODS), INSTALLMENT_MAX_PERIODS);\n};\nconst getInstallmentRateByMonths = (months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const normalized = clampInstallmentPeriods(months);\n  // 2 เดือน: 10%, 3-12 เดือน: เพิ่มขึ้นเรื่อยๆ จนถึง 12 เดือนที่ 20%\n  if (normalized === INSTALLMENT_MIN_PERIODS) {\n    return 0.1; // 2 เดือน = 10%\n  }\n  if (normalized >= INSTALLMENT_MAX_PERIODS) {\n    return 0.2; // 12 เดือน = 20%\n  }\n  // 3-11 เดือน: คำนวณแบบ linear จาก 10% ถึง 20%\n  return 0.1 + (normalized - INSTALLMENT_MIN_PERIODS) * (0.2 - 0.1) / (INSTALLMENT_MAX_PERIODS - INSTALLMENT_MIN_PERIODS);\n};\nconst calculateInstallmentTotalFromCash = (cashPrice, months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const price = Number(cashPrice);\n  if (!Number.isFinite(price) || price <= 0) {\n    return null;\n  }\n  const rate = getInstallmentRateByMonths(months);\n  const total = price * (1 + rate);\n  return Math.round(total);\n};\n\n/**\n * คำนวณจำนวนเงินผ่อนชำระแต่ละงวดให้ถูกต้องตามหลักบัญชี\n * เดือนแรกถึงเดือนก่อนสุดท้าย: ปัดขึ้นเป็นหลักสิบ\n * เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n */\nconst calculateInstallmentAmounts = (totalAmount, periods) => {\n  const total = Number(totalAmount);\n  const numPeriods = Number(periods);\n  if (!Number.isFinite(total) || total <= 0 || !Number.isFinite(numPeriods) || numPeriods <= 0) {\n    return [];\n  }\n  if (numPeriods === 1) {\n    return [total];\n  }\n\n  // คำนวณจำนวนเงินต่อเดือนเฉลี่ย\n  const averagePerMonth = total / numPeriods;\n\n  // ปัดขึ้นเป็นหลักสิบ (ceil to nearest 10)\n  const regularAmount = Math.ceil(averagePerMonth / 10) * 10;\n\n  // เดือนแรกถึงเดือนก่อนสุดท้าย: ใช้ regularAmount\n  const amounts = [];\n  for (let i = 1; i < numPeriods; i++) {\n    amounts.push(regularAmount);\n  }\n\n  // เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n  const regularTotal = regularAmount * (numPeriods - 1);\n  const lastAmount = total - regularTotal;\n  amounts.push(lastAmount);\n  return amounts;\n};\nexport default function OrderDetail() {\n  _s();\n  var _statusConfig$order$o, _order$installments;\n  const {\n    orderId\n  } = useParams();\n  const navigate = useNavigate();\n  const [order, setOrder] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [feedback, setFeedback] = useState({\n    type: '',\n    message: ''\n  });\n  const [isCancelling, setIsCancelling] = useState(false);\n  const paymentInfo = useMemo(() => {\n    const method = order !== null && order !== void 0 && order.payment_method ? String(order.payment_method).toLowerCase() : '';\n    if (!order) {\n      return {\n        type: 'cash',\n        label: '-',\n        note: ''\n      };\n    }\n    if (method.includes('cod') || method.includes('ปลายทาง') || method.includes('delivery')) {\n      return {\n        type: 'cod',\n        label: 'เก็บเงินปลายทาง',\n        note: 'ชำระเมื่อรับสินค้าและกรุณาเตรียมยอดให้ครบถ้วน'\n      };\n    }\n    if (method.includes('install')) {\n      return {\n        type: 'installment',\n        label: 'ผ่อนชำระ',\n        note: ''\n      };\n    }\n    return {\n      type: 'cash',\n      label: 'ชำระเต็มจำนวน',\n      note: ''\n    };\n  }, [order]);\n  const isInstallmentOrder = useMemo(() => paymentInfo.type === 'installment', [paymentInfo]);\n  const summaryColProps = useMemo(() => isInstallmentOrder ? {\n    md: 12,\n    lg: 4\n  } : {\n    md: 12,\n    lg: 6\n  }, [isInstallmentOrder]);\n  const shippingColProps = useMemo(() => isInstallmentOrder ? {\n    md: 12,\n    lg: 4\n  } : {\n    md: 12,\n    lg: 6\n  }, [isInstallmentOrder]);\n  const installmentColProps = useMemo(() => ({\n    md: 12,\n    lg: 4\n  }), []);\n  const detailColProps = useMemo(() => isInstallmentOrder ? {\n    lg: 6\n  } : {\n    lg: 12\n  }, [isInstallmentOrder]);\n  const shippingInfo = useMemo(() => {\n    if (!order) {\n      return {\n        name: '-',\n        phone: '-',\n        address: '-',\n        telLink: ''\n      };\n    }\n\n    // ใช้ข้อมูลจาก customer ก่อน (customer_fname, customer_lname, customer_tel)\n    const customerName = [order.customer_fname, order.customer_lname].filter(Boolean).join(' ').trim();\n    const customerPhone = typeof order.customer_tel === 'string' ? order.customer_tel.trim() : '';\n\n    // ถ้าไม่มีข้อมูลจาก customer ให้ใช้ข้อมูลจาก shipping_address\n    const shipping = (order === null || order === void 0 ? void 0 : order.shipping_address) || {};\n    const shippingName = [shipping.recipientName, shipping.recipientSurname].filter(Boolean).join(' ').trim();\n    const shippingPhone = typeof shipping.phone === 'string' ? shipping.phone.trim() : '';\n    const name = customerName || shippingName || '-';\n    const phone = customerPhone || shippingPhone || '-';\n    const address = typeof shipping.address === 'string' ? shipping.address.trim() : '-';\n    const telLink = phone && phone !== '-' ? phone.replace(/[^0-9+]/g, '') : '';\n    return {\n      name: name || '-',\n      phone: phone || '-',\n      address: address || '-',\n      telLink: telLink || ''\n    };\n  }, [order]);\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await axios.get(`/api/orders/${orderId}`);\n        setOrder(response.data);\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error('Error fetching order detail:', err);\n        const message = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'ไม่สามารถโหลดข้อมูลคำสั่งซื้อได้';\n        setError(message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchOrder();\n  }, [orderId]);\n  const handleCancelOrder = async () => {\n    if (!order || order.order_status !== 'pending') {\n      return;\n    }\n    const confirmed = window.confirm('ยืนยันการยกเลิกคำสั่งซื้อนี้หรือไม่?');\n    if (!confirmed) {\n      return;\n    }\n    setIsCancelling(true);\n    setFeedback({\n      type: '',\n      message: ''\n    });\n    try {\n      var _response$data2;\n      const response = await axios.put(`/api/orders/cancel/${order.order_id}`);\n      setOrder(prev => {\n        var _response$data;\n        return prev ? {\n          ...prev,\n          order_status: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.status) || 'cancelled_by_customer'\n        } : prev;\n      });\n      setFeedback({\n        type: 'success',\n        message: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || 'ยกเลิกคำสั่งซื้อสำเร็จ'\n      });\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Cancel order error:', err);\n      setFeedback({\n        type: 'danger',\n        message: ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'ไม่สามารถยกเลิกคำสั่งซื้อได้'\n      });\n    } finally {\n      setIsCancelling(false);\n    }\n  };\n  const installmentSummary = useMemo(() => {\n    if (!order || !isInstallmentOrder || !Array.isArray(order.installments) || order.installments.length === 0) {\n      return null;\n    }\n    const paidCount = order.installments.filter(item => item.payment_status === 'paid').length;\n\n    // คำนวณจำนวนเงินแต่ละงวดให้ถูกต้องตามหลักบัญชี\n    const installmentAmounts = calculateInstallmentAmounts(order.total_amount, order.installment_periods || order.installments.length);\n    return {\n      total: order.installments.length,\n      paid: paidCount,\n      remaining: order.installments.length - paidCount,\n      amounts: installmentAmounts,\n      firstAmount: installmentAmounts.length > 0 ? installmentAmounts[0] : null\n    };\n  }, [order, isInstallmentOrder]);\n  const getStatusBadge = status => {\n    const config = statusConfig[status] || {\n      variant: 'secondary',\n      text: status\n    };\n    const classes = ['order-status-badge'];\n    if (status === 'pending') {\n      classes.push('order-status-badge--pending');\n    }\n    if (status === 'awaiting_payment') {\n      classes.push('order-status-badge--awaiting');\n    }\n    if (status === 'waiting_for_delivery') {\n      classes.push('order-status-badge--shipping');\n    }\n    if (status === 'completed') {\n      classes.push('order-status-badge--completed');\n    }\n    if (status === 'cancelled' || status === 'cancelled_by_customer') {\n      classes.push('order-status-badge--cancelled');\n    }\n    return /*#__PURE__*/_jsxDEV(Badge, {\n      bg: config.variant,\n      className: `px-3 py-2 fs-6 fw-semibold rounded-pill ${classes.join(' ')}`,\n      children: config.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border text-primary\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"visually-hidden\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"my-5\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-3\",\n          children: \"\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => navigate(-1),\n            children: \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/orders\",\n            className: \"btn btn-outline-secondary\",\n            children: \"\\u0E44\\u0E1B\\u0E22\\u0E31\\u0E07\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this);\n  }\n  if (!order) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-detail-page\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"order-detail-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail-card__header\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-start flex-wrap gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"order-detail-card__title\",\n                children: [\"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D #\", order.order_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-detail-card__meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: new Date(order.order_date).toLocaleDateString('th-TH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), getStatusBadge(order.order_status)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/orders\",\n                className: \"btn btn-outline-secondary\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"bi bi-arrow-left me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this), \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail-card__body\",\n          children: [feedback.message && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: feedback.type,\n            onClose: () => setFeedback({\n              type: '',\n              message: ''\n            }),\n            dismissible: true,\n            children: feedback.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            className: \"g-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              ...summaryColProps,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"order-detail__summary-card h-100\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-3\",\n                    children: \"\\u0E2A\\u0E23\\u0E38\\u0E1B\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                    className: \"row mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal ? formatCurrency(installmentSummary.correctTotal) : formatCurrency(order.total_amount)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 341,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E27\\u0E34\\u0E18\\u0E35\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: paymentInfo.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E07\\u0E27\\u0E14\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 348,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder ? `${order.installment_periods} งวด` : paymentInfo.type === 'cod' ? 'เก็บเงินเพียงครั้งเดียวตอนรับสินค้า' : 'ชำระเต็มจำนวน'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E22\\u0E2D\\u0E14\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E15\\u0E48\\u0E2D\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder ? formatCurrency((installmentSummary === null || installmentSummary === void 0 ? void 0 : installmentSummary.firstAmount) || order.monthly_payment || 0) : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this), paymentInfo.note && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                        className: \"col-sm-5\",\n                        children: \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 364,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                        className: \"col-sm-7\",\n                        children: paymentInfo.note\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: [((_statusConfig$order$o = statusConfig[order.order_status]) === null || _statusConfig$order$o === void 0 ? void 0 : _statusConfig$order$o.text) || order.order_status, order.order_status === 'cancelled' && order.cancel_reason && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-2\",\n                        children: /*#__PURE__*/_jsxDEV(Alert, {\n                          variant: \"danger\",\n                          className: \"mb-0\",\n                          style: {\n                            fontSize: '0.9rem'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"\\u0E2A\\u0E32\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E01\\u0E32\\u0E23\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 374,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-1\",\n                            children: order.cancel_reason\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 375,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 373,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 369,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              ...shippingColProps,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"order-detail__summary-card h-100\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-3\",\n                    children: \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E25\\u0E30\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                    className: \"row mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-4\",\n                      children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-8\",\n                      children: shippingInfo.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-4\",\n                      children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-8\",\n                      children: shippingInfo.phone !== '-' ? /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: shippingInfo.telLink ? `tel:${shippingInfo.telLink}` : undefined,\n                        className: \"order-detail__contact-link\",\n                        children: shippingInfo.phone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 394,\n                        columnNumber: 27\n                      }, this) : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-4\",\n                      children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-8\",\n                      children: shippingInfo.address !== '-' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"order-detail__shipping-address\",\n                        children: shippingInfo.address\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 407,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#000',\n                          fontSize: '1.1rem'\n                        },\n                        children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E23\\u0E30\\u0E1A\\u0E38\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 409,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), isInstallmentOrder && /*#__PURE__*/_jsxDEV(Col, {\n              ...installmentColProps,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"order-detail__summary-card h-100\",\n                children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-3\",\n                    children: \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 23\n                  }, this), installmentSummary ? /*#__PURE__*/_jsxDEV(\"dl\", {\n                    className: \"row mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E07\\u0E27\\u0E14\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: [installmentSummary.total, \" \\u0E07\\u0E27\\u0E14\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E41\\u0E25\\u0E49\\u0E27\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: [installmentSummary.paid, \" \\u0E07\\u0E27\\u0E14\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E04\\u0E07\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: [installmentSummary.remaining, \" \\u0E07\\u0E27\\u0E14\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n                      className: \"col-sm-5\",\n                      children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21\\u0E1C\\u0E48\\u0E2D\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      className: \"col-sm-7\",\n                      children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal ? formatCurrency(installmentSummary.correctTotal) : formatCurrency(order.total_amount)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0 text-muted\",\n                    children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 437,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"mb-4 order-detail__section-card\",\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"g-4\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  ...detailColProps,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between align-items-center mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"mb-0\",\n                      children: \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: \"light\",\n                      text: \"dark\",\n                      children: [order.details.length, \" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Table, {\n                    responsive: true,\n                    hover: true,\n                    className: \"order-detail__products mb-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 458,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E23\\u0E32\\u0E04\\u0E32\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 459,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 460,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          className: \"text-end\",\n                          children: \"\\u0E23\\u0E27\\u0E21\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 461,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: order.details.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"d-flex align-items-center gap-3\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"order-detail__thumb\",\n                              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                src: item.product_image,\n                                alt: item.product_name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 470,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 469,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                                children: item.product_name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 473,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 472,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 468,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 467,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal && cashTotal > 0 ? formatCurrency(Math.round(Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal))) : formatCurrency(item.price)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 477,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          children: item.quantity\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 484,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"text-end\",\n                          children: isInstallmentOrder && installmentSummary !== null && installmentSummary !== void 0 && installmentSummary.correctTotal && cashTotal > 0 ? formatCurrency(Math.round(Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal))) : formatCurrency(item.price * item.quantity)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 485,\n                          columnNumber: 29\n                        }, this)]\n                      }, item.order_detail_id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 466,\n                        columnNumber: 27\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 19\n                }, this), isInstallmentOrder && /*#__PURE__*/_jsxDEV(Col, {\n                  lg: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex justify-content-between align-items-center mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"mb-0\",\n                      children: \"\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 25\n                    }, this), installmentSummary && /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: installmentSummary.remaining === 0 ? 'success' : 'warning',\n                      children: [\"\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E41\\u0E25\\u0E49\\u0E27 \", installmentSummary.paid, \"/\", installmentSummary.total, \" \\u0E07\\u0E27\\u0E14\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this), (_order$installments = order.installments) !== null && _order$installments !== void 0 && _order$installments.length ? /*#__PURE__*/_jsxDEV(Table, {\n                    responsive: true,\n                    hover: true,\n                    className: \"mb-0 order-detail__installments\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E07\\u0E27\\u0E14\\u0E17\\u0E35\\u0E48\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 511,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E22\\u0E2D\\u0E14\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 512,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 513,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 514,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 515,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 510,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: order.installments.map((item, index) => {\n                        var _installmentSummary$a, _installmentSummary$a2;\n                        // ใช้จำนวนเงินที่คำนวณใหม่จาก installmentSummary (ถ้ามี) หรือใช้ installment_amount จาก database\n                        const installmentAmount = (_installmentSummary$a = installmentSummary === null || installmentSummary === void 0 ? void 0 : (_installmentSummary$a2 = installmentSummary.amounts) === null || _installmentSummary$a2 === void 0 ? void 0 : _installmentSummary$a2[index]) !== null && _installmentSummary$a !== void 0 ? _installmentSummary$a : item.installment_amount;\n                        return /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            children: item.installment_number\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 524,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: formatCurrency(installmentAmount)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 525,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: new Date(item.payment_due_date).toLocaleDateString('th-TH')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 526,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: item.payment_date ? new Date(item.payment_date).toLocaleDateString('th-TH') : '-'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 527,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: /*#__PURE__*/_jsxDEV(Badge, {\n                              bg: item.payment_status === 'paid' ? 'success' : 'secondary',\n                              children: item.payment_status === 'paid' ? 'ชำระแล้ว' : 'รอชำระ'\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 533,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 532,\n                            columnNumber: 35\n                          }, this)]\n                        }, item.installment_id, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 523,\n                          columnNumber: 33\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0 text-muted\",\n                    children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E07\\u0E27\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1C\\u0E48\\u0E2D\\u0E19\\u0E0A\\u0E33\\u0E23\\u0E30\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), order.order_status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail__footer\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            size: \"lg\",\n            className: \"order-detail__cancel-btn\",\n            onClick: handleCancelOrder,\n            disabled: isCancelling,\n            children: isCancelling ? 'กำลังยกเลิก...' : 'ยกเลิกคำสั่งซื้อ'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderDetail, \"OPGzuaxdSDrnL1fhgAkamzPDs+g=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = OrderDetail;\nvar _c;\n$RefreshReg$(_c, \"OrderDetail\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","Link","useParams","useNavigate","Container","Card","Table","Badge","Button","Alert","Row","Col","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","statusConfig","pending","variant","text","awaiting_payment","approved","waiting_for_delivery","completed","cancelled","cancelled_by_customer","formatCurrency","value","parseFloat","toLocaleString","INSTALLMENT_MIN_PERIODS","INSTALLMENT_MAX_PERIODS","DEFAULT_INSTALLMENT_PERIODS","clampInstallmentPeriods","num","Number","Math","min","max","getInstallmentRateByMonths","months","normalized","calculateInstallmentTotalFromCash","cashPrice","price","isFinite","rate","total","round","calculateInstallmentAmounts","totalAmount","periods","numPeriods","averagePerMonth","regularAmount","ceil","amounts","i","push","regularTotal","lastAmount","OrderDetail","_s","_statusConfig$order$o","_order$installments","orderId","navigate","order","setOrder","isLoading","setIsLoading","error","setError","feedback","setFeedback","type","message","isCancelling","setIsCancelling","paymentInfo","method","payment_method","String","toLowerCase","label","note","includes","isInstallmentOrder","summaryColProps","md","lg","shippingColProps","installmentColProps","detailColProps","shippingInfo","name","phone","address","telLink","customerName","customer_fname","customer_lname","filter","Boolean","join","trim","customerPhone","customer_tel","shipping","shipping_address","shippingName","recipientName","recipientSurname","shippingPhone","replace","fetchOrder","response","get","data","err","_err$response","_err$response$data","console","handleCancelOrder","order_status","confirmed","window","confirm","_response$data2","put","order_id","prev","_response$data","status","_err$response2","_err$response2$data","installmentSummary","Array","isArray","installments","length","paidCount","item","payment_status","installmentAmounts","total_amount","installment_periods","paid","remaining","firstAmount","getStatusBadge","config","classes","bg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","to","Date","order_date","toLocaleDateString","onClose","dismissible","Body","correctTotal","monthly_payment","cancel_reason","style","fontSize","href","undefined","color","details","responsive","hover","map","src","product_image","alt","product_name","cashTotal","quantity","order_detail_id","index","_installmentSummary$a","_installmentSummary$a2","installmentAmount","installment_amount","installment_number","payment_due_date","payment_date","installment_id","size","disabled","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/sangsawang_furniture_project-master/client/src/pages/OrderDetail.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { Link, useParams, useNavigate } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Table from 'react-bootstrap/Table';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport axios from 'axios';\nimport './OrderDetail.css';\n\nconst statusConfig = {\n  pending: { variant: 'warning', text: 'รออนุมัติ' },\n  awaiting_payment: { variant: 'info', text: 'รอชำระเงิน' },\n  approved: { variant: 'success', text: 'อนุมัติแล้ว' },\n  waiting_for_delivery: { variant: 'primary', text: 'รอจัดส่ง' },\n  completed: { variant: 'success', text: 'ส่งมอบสำเร็จ' },\n  cancelled: { variant: 'danger', text: 'ยกเลิกโดยผู้ดูแล' },\n  cancelled_by_customer: { variant: 'danger', text: 'ยกเลิก' }\n};\n\nconst formatCurrency = (value) => {\n  if (value == null) return '-';\n  return `฿${parseFloat(value).toLocaleString()}`;\n};\n\nconst INSTALLMENT_MIN_PERIODS = 2;\nconst INSTALLMENT_MAX_PERIODS = 12;\nconst DEFAULT_INSTALLMENT_PERIODS = 12;\n\nconst clampInstallmentPeriods = (value) => {\n  const num = Number(value);\n  return Math.min(Math.max(num || DEFAULT_INSTALLMENT_PERIODS, INSTALLMENT_MIN_PERIODS), INSTALLMENT_MAX_PERIODS);\n};\n\nconst getInstallmentRateByMonths = (months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const normalized = clampInstallmentPeriods(months);\n  // 2 เดือน: 10%, 3-12 เดือน: เพิ่มขึ้นเรื่อยๆ จนถึง 12 เดือนที่ 20%\n  if (normalized === INSTALLMENT_MIN_PERIODS) {\n    return 0.1; // 2 เดือน = 10%\n  }\n  if (normalized >= INSTALLMENT_MAX_PERIODS) {\n    return 0.2; // 12 เดือน = 20%\n  }\n  // 3-11 เดือน: คำนวณแบบ linear จาก 10% ถึง 20%\n  return 0.1 + (normalized - INSTALLMENT_MIN_PERIODS) * (0.2 - 0.1) / (INSTALLMENT_MAX_PERIODS - INSTALLMENT_MIN_PERIODS);\n};\n\nconst calculateInstallmentTotalFromCash = (cashPrice, months = DEFAULT_INSTALLMENT_PERIODS) => {\n  const price = Number(cashPrice);\n  if (!Number.isFinite(price) || price <= 0) {\n    return null;\n  }\n  const rate = getInstallmentRateByMonths(months);\n  const total = price * (1 + rate);\n  return Math.round(total);\n};\n\n/**\n * คำนวณจำนวนเงินผ่อนชำระแต่ละงวดให้ถูกต้องตามหลักบัญชี\n * เดือนแรกถึงเดือนก่อนสุดท้าย: ปัดขึ้นเป็นหลักสิบ\n * เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n */\nconst calculateInstallmentAmounts = (totalAmount, periods) => {\n  const total = Number(totalAmount);\n  const numPeriods = Number(periods);\n  \n  if (!Number.isFinite(total) || total <= 0 || !Number.isFinite(numPeriods) || numPeriods <= 0) {\n    return [];\n  }\n  \n  if (numPeriods === 1) {\n    return [total];\n  }\n  \n  // คำนวณจำนวนเงินต่อเดือนเฉลี่ย\n  const averagePerMonth = total / numPeriods;\n  \n  // ปัดขึ้นเป็นหลักสิบ (ceil to nearest 10)\n  const regularAmount = Math.ceil(averagePerMonth / 10) * 10;\n  \n  // เดือนแรกถึงเดือนก่อนสุดท้าย: ใช้ regularAmount\n  const amounts = [];\n  for (let i = 1; i < numPeriods; i++) {\n    amounts.push(regularAmount);\n  }\n  \n  // เดือนสุดท้าย: เก็บเศษที่เหลือ (เพื่อให้รวมเท่ากับ totalAmount พอดี)\n  const regularTotal = regularAmount * (numPeriods - 1);\n  const lastAmount = total - regularTotal;\n  amounts.push(lastAmount);\n  \n  return amounts;\n};\n\nexport default function OrderDetail() {\n  const { orderId } = useParams();\n  const navigate = useNavigate();\n  const [order, setOrder] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [feedback, setFeedback] = useState({ type: '', message: '' });\n  const [isCancelling, setIsCancelling] = useState(false);\n\n  const paymentInfo = useMemo(() => {\n    const method = order?.payment_method ? String(order.payment_method).toLowerCase() : '';\n    if (!order) {\n      return { type: 'cash', label: '-', note: '' };\n    }\n    if (method.includes('cod') || method.includes('ปลายทาง') || method.includes('delivery')) {\n      return {\n        type: 'cod',\n        label: 'เก็บเงินปลายทาง',\n        note: 'ชำระเมื่อรับสินค้าและกรุณาเตรียมยอดให้ครบถ้วน'\n      };\n    }\n    if (method.includes('install')) {\n      return { type: 'installment', label: 'ผ่อนชำระ', note: '' };\n    }\n    return { type: 'cash', label: 'ชำระเต็มจำนวน', note: '' };\n  }, [order]);\n\n  const isInstallmentOrder = useMemo(() => paymentInfo.type === 'installment', [paymentInfo]);\n\n  const summaryColProps = useMemo(() => (isInstallmentOrder ? { md: 12, lg: 4 } : { md: 12, lg: 6 }), [isInstallmentOrder]);\n  const shippingColProps = useMemo(() => (isInstallmentOrder ? { md: 12, lg: 4 } : { md: 12, lg: 6 }), [isInstallmentOrder]);\n  const installmentColProps = useMemo(() => ({ md: 12, lg: 4 }), []);\n  const detailColProps = useMemo(() => (isInstallmentOrder ? { lg: 6 } : { lg: 12 }), [isInstallmentOrder]);\n\n  const shippingInfo = useMemo(() => {\n    if (!order) {\n      return {\n        name: '-',\n        phone: '-',\n        address: '-',\n        telLink: ''\n      };\n    }\n\n    // ใช้ข้อมูลจาก customer ก่อน (customer_fname, customer_lname, customer_tel)\n    const customerName = [order.customer_fname, order.customer_lname].filter(Boolean).join(' ').trim();\n    const customerPhone = typeof order.customer_tel === 'string' ? order.customer_tel.trim() : '';\n\n    // ถ้าไม่มีข้อมูลจาก customer ให้ใช้ข้อมูลจาก shipping_address\n    const shipping = order?.shipping_address || {};\n    const shippingName = [shipping.recipientName, shipping.recipientSurname].filter(Boolean).join(' ').trim();\n    const shippingPhone = typeof shipping.phone === 'string' ? shipping.phone.trim() : '';\n\n    const name = customerName || shippingName || '-';\n    const phone = customerPhone || shippingPhone || '-';\n    const address = typeof shipping.address === 'string' ? shipping.address.trim() : '-';\n    const telLink = phone && phone !== '-' ? phone.replace(/[^0-9+]/g, '') : '';\n\n    return {\n      name: name || '-',\n      phone: phone || '-',\n      address: address || '-',\n      telLink: telLink || ''\n    };\n  }, [order]);\n\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await axios.get(`/api/orders/${orderId}`);\n        setOrder(response.data);\n      } catch (err) {\n        console.error('Error fetching order detail:', err);\n        const message = err.response?.data?.error || 'ไม่สามารถโหลดข้อมูลคำสั่งซื้อได้';\n        setError(message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId]);\n\n  const handleCancelOrder = async () => {\n    if (!order || order.order_status !== 'pending') {\n      return;\n    }\n    const confirmed = window.confirm('ยืนยันการยกเลิกคำสั่งซื้อนี้หรือไม่?');\n    if (!confirmed) {\n      return;\n    }\n\n    setIsCancelling(true);\n    setFeedback({ type: '', message: '' });\n\n    try {\n      const response = await axios.put(`/api/orders/cancel/${order.order_id}`);\n      setOrder((prev) =>\n        prev\n          ? {\n              ...prev,\n              order_status: response.data?.status || 'cancelled_by_customer'\n            }\n          : prev\n      );\n      setFeedback({ type: 'success', message: response.data?.message || 'ยกเลิกคำสั่งซื้อสำเร็จ' });\n    } catch (err) {\n      console.error('Cancel order error:', err);\n      setFeedback({\n        type: 'danger',\n        message: err.response?.data?.error || 'ไม่สามารถยกเลิกคำสั่งซื้อได้'\n      });\n    } finally {\n      setIsCancelling(false);\n    }\n  };\n\n  const installmentSummary = useMemo(() => {\n    if (\n      !order ||\n      !isInstallmentOrder ||\n      !Array.isArray(order.installments) ||\n      order.installments.length === 0\n    ) {\n      return null;\n    }\n\n    const paidCount = order.installments.filter((item) => item.payment_status === 'paid').length;\n    \n    // คำนวณจำนวนเงินแต่ละงวดให้ถูกต้องตามหลักบัญชี\n    const installmentAmounts = calculateInstallmentAmounts(\n      order.total_amount,\n      order.installment_periods || order.installments.length\n    );\n    \n    return {\n      total: order.installments.length,\n      paid: paidCount,\n      remaining: order.installments.length - paidCount,\n      amounts: installmentAmounts,\n      firstAmount: installmentAmounts.length > 0 ? installmentAmounts[0] : null\n    };\n  }, [order, isInstallmentOrder]);\n\n  const getStatusBadge = (status) => {\n    const config = statusConfig[status] || { variant: 'secondary', text: status };\n    const classes = ['order-status-badge'];\n    if (status === 'pending') {\n      classes.push('order-status-badge--pending');\n    }\n    if (status === 'awaiting_payment') {\n      classes.push('order-status-badge--awaiting');\n    }\n    if (status === 'waiting_for_delivery') {\n      classes.push('order-status-badge--shipping');\n    }\n    if (status === 'completed') {\n      classes.push('order-status-badge--completed');\n    }\n    if (status === 'cancelled' || status === 'cancelled_by_customer') {\n      classes.push('order-status-badge--cancelled');\n    }\n    return (\n      <Badge\n        bg={config.variant}\n        className={`px-3 py-2 fs-6 fw-semibold rounded-pill ${classes.join(' ')}`}\n      >\n        {config.text}\n      </Badge>\n    );\n  };\n\n  if (isLoading) {\n    return (\n      <Container className=\"my-5\">\n        <div className=\"text-center\">\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            <span className=\"visually-hidden\">Loading...</span>\n          </div>\n        </div>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container className=\"my-5\">\n        <Alert variant=\"danger\">\n          <h4 className=\"mb-3\">มีข้อผิดพลาด</h4>\n          <p>{error}</p>\n          <div className=\"d-flex gap-2\">\n            <Button variant=\"primary\" onClick={() => navigate(-1)}>\n              ย้อนกลับ\n            </Button>\n            <Link to=\"/orders\" className=\"btn btn-outline-secondary\">\n              ไปยังรายการคำสั่งซื้อ\n            </Link>\n          </div>\n        </Alert>\n      </Container>\n    );\n  }\n\n  if (!order) {\n    return null;\n  }\n\n  return (\n    <div className=\"order-detail-page\">\n      <Container>\n        <Card className=\"order-detail-card\">\n          <div className=\"order-detail-card__header\">\n            <div className=\"d-flex justify-content-between align-items-start flex-wrap gap-3\">\n              <div>\n                <h2 className=\"order-detail-card__title\">รายละเอียดคำสั่งซื้อ #{order.order_id}</h2>\n                <div className=\"order-detail-card__meta\">\n                  <span>{new Date(order.order_date).toLocaleDateString('th-TH')}</span>\n                  {getStatusBadge(order.order_status)}\n                </div>\n              </div>\n              <div className=\"d-flex gap-2\">\n                <Link to=\"/orders\" className=\"btn btn-outline-secondary\">\n                  <i className=\"bi bi-arrow-left me-2\"></i>\n                  กลับไปหน้าคำสั่งซื้อ\n                </Link>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"order-detail-card__body\">\n            {feedback.message && (\n              <Alert variant={feedback.type} onClose={() => setFeedback({ type: '', message: '' })} dismissible>\n                {feedback.message}\n              </Alert>\n            )}\n\n            <Row className=\"g-4 mb-4\">\n              <Col {...summaryColProps}>\n                <Card className=\"order-detail__summary-card h-100\">\n                  <Card.Body>\n                    <h5 className=\"mb-3\">สรุปคำสั่งซื้อ</h5>\n                    <dl className=\"row mb-0\">\n                      <dt className=\"col-sm-5\">ยอดรวม</dt>\n                      <dd className=\"col-sm-7\">\n                        {isInstallmentOrder && installmentSummary?.correctTotal\n                          ? formatCurrency(installmentSummary.correctTotal)\n                          : formatCurrency(order.total_amount)}\n                      </dd>\n                      <dt className=\"col-sm-5\">วิธีชำระเงิน</dt>\n                      <dd className=\"col-sm-7\">{paymentInfo.label}</dd>\n                      <dt className=\"col-sm-5\">จำนวนงวด</dt>\n                      <dd className=\"col-sm-7\">\n                        {isInstallmentOrder\n                          ? `${order.installment_periods} งวด`\n                          : paymentInfo.type === 'cod'\n                          ? 'เก็บเงินเพียงครั้งเดียวตอนรับสินค้า'\n                          : 'ชำระเต็มจำนวน'}\n                      </dd>\n                      <dt className=\"col-sm-5\">ยอดผ่อนต่อเดือน</dt>\n                      <dd className=\"col-sm-7\">\n                        {isInstallmentOrder \n                          ? formatCurrency(installmentSummary?.firstAmount || order.monthly_payment || 0)\n                          : '-'}\n                      </dd>\n                      {paymentInfo.note && (\n                        <>\n                          <dt className=\"col-sm-5\">หมายเหตุ</dt>\n                          <dd className=\"col-sm-7\">{paymentInfo.note}</dd>\n                        </>\n                      )}\n                      <dt className=\"col-sm-5\">สถานะล่าสุด</dt>\n                      <dd className=\"col-sm-7\">\n                        {statusConfig[order.order_status]?.text || order.order_status}\n                        {order.order_status === 'cancelled' && order.cancel_reason && (\n                          <div className=\"mt-2\">\n                            <Alert variant=\"danger\" className=\"mb-0\" style={{ fontSize: '0.9rem' }}>\n                              <strong>สาเหตุการยกเลิก:</strong>\n                              <div className=\"mt-1\">{order.cancel_reason}</div>\n                            </Alert>\n                          </div>\n                        )}\n                      </dd>\n                    </dl>\n                  </Card.Body>\n                </Card>\n              </Col>\n              <Col {...shippingColProps}>\n                <Card className=\"order-detail__summary-card h-100\">\n                  <Card.Body>\n                    <h5 className=\"mb-3\">ข้อมูลผู้รับและที่อยู่จัดส่ง</h5>\n                    <dl className=\"row mb-0\">\n                      <dt className=\"col-sm-4\">ชื่อผู้รับ</dt>\n                      <dd className=\"col-sm-8\">{shippingInfo.name}</dd>\n                      <dt className=\"col-sm-4\">เบอร์ติดต่อ</dt>\n                      <dd className=\"col-sm-8\">\n                        {shippingInfo.phone !== '-' ? (\n                          <a\n                            href={shippingInfo.telLink ? `tel:${shippingInfo.telLink}` : undefined}\n                            className=\"order-detail__contact-link\"\n                          >\n                            {shippingInfo.phone}\n                          </a>\n                        ) : (\n                          '-'\n                        )}\n                      </dd>\n                      <dt className=\"col-sm-4\">ที่อยู่จัดส่ง</dt>\n                      <dd className=\"col-sm-8\">\n                        {shippingInfo.address !== '-' ? (\n                          <span className=\"order-detail__shipping-address\">{shippingInfo.address}</span>\n                        ) : (\n                          <span style={{ color: '#000', fontSize: '1.1rem' }}>ยังไม่ได้ระบุที่อยู่จัดส่ง</span>\n                        )}\n                      </dd>\n                    </dl>\n                  </Card.Body>\n                </Card>\n              </Col>\n              {isInstallmentOrder && (\n                <Col {...installmentColProps}>\n                  <Card className=\"order-detail__summary-card h-100\">\n                    <Card.Body>\n                      <h5 className=\"mb-3\">ข้อมูลการผ่อนชำระ</h5>\n                      {installmentSummary ? (\n                        <dl className=\"row mb-0\">\n                          <dt className=\"col-sm-5\">จำนวนงวดทั้งหมด</dt>\n                          <dd className=\"col-sm-7\">{installmentSummary.total} งวด</dd>\n                          <dt className=\"col-sm-5\">ชำระแล้ว</dt>\n                          <dd className=\"col-sm-7\">{installmentSummary.paid} งวด</dd>\n                          <dt className=\"col-sm-5\">คงเหลือ</dt>\n                          <dd className=\"col-sm-7\">{installmentSummary.remaining} งวด</dd>\n                          <dt className=\"col-sm-5\">ยอดรวมผ่อน</dt>\n                          <dd className=\"col-sm-7\">\n                            {isInstallmentOrder && installmentSummary?.correctTotal\n                              ? formatCurrency(installmentSummary.correctTotal)\n                              : formatCurrency(order.total_amount)}\n                          </dd>\n                        </dl>\n                      ) : (\n                        <p className=\"mb-0 text-muted\">ไม่มีข้อมูลการผ่อนชำระ</p>\n                      )}\n                    </Card.Body>\n                  </Card>\n                </Col>\n              )}\n            </Row>\n\n            <Card className=\"mb-4 order-detail__section-card\">\n              <Card.Body>\n                <Row className=\"g-4\">\n                  <Col {...detailColProps}>\n                    <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                      <h5 className=\"mb-0\">รายการสินค้า</h5>\n                      <Badge bg=\"light\" text=\"dark\">\n                        {order.details.length} รายการ\n                      </Badge>\n                    </div>\n                    <Table responsive hover className=\"order-detail__products mb-0\">\n                      <thead>\n                        <tr>\n                          <th>สินค้า</th>\n                          <th>ราคา</th>\n                          <th>จำนวน</th>\n                          <th className=\"text-end\">รวม</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {order.details.map((item) => (\n                          <tr key={item.order_detail_id}>\n                            <td>\n                              <div className=\"d-flex align-items-center gap-3\">\n                                <div className=\"order-detail__thumb\">\n                                  <img src={item.product_image} alt={item.product_name} />\n                                </div>\n                                <div>\n                                  <strong>{item.product_name}</strong>\n                                </div>\n                              </div>\n                            </td>\n                            <td>\n                              {isInstallmentOrder && installmentSummary?.correctTotal && cashTotal > 0\n                                ? formatCurrency(\n                                    Math.round((Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal)))\n                                  )\n                                : formatCurrency(item.price)}\n                            </td>\n                            <td>{item.quantity}</td>\n                            <td className=\"text-end\">\n                              {isInstallmentOrder && installmentSummary?.correctTotal && cashTotal > 0\n                                ? formatCurrency(\n                                    Math.round((Number(item.price) * item.quantity * (installmentSummary.correctTotal / cashTotal)))\n                                  )\n                                : formatCurrency(item.price * item.quantity)}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </Table>\n                  </Col>\n                  {isInstallmentOrder && (\n                    <Col lg={6}>\n                      <div className=\"d-flex justify-content-between align-items-center mb-3\">\n                        <h5 className=\"mb-0\">ตารางการผ่อนชำระ</h5>\n                        {installmentSummary && (\n                          <Badge bg={installmentSummary.remaining === 0 ? 'success' : 'warning'}>\n                            ชำระแล้ว {installmentSummary.paid}/{installmentSummary.total} งวด\n                          </Badge>\n                        )}\n                      </div>\n                      {order.installments?.length ? (\n                        <Table responsive hover className=\"mb-0 order-detail__installments\">\n                          <thead>\n                            <tr>\n                              <th>งวดที่</th>\n                              <th>ยอดชำระ</th>\n                              <th>กำหนดชำระ</th>\n                              <th>วันที่ชำระ</th>\n                              <th>สถานะ</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {order.installments.map((item, index) => {\n                              // ใช้จำนวนเงินที่คำนวณใหม่จาก installmentSummary (ถ้ามี) หรือใช้ installment_amount จาก database\n                              const installmentAmount = installmentSummary?.amounts?.[index] ?? item.installment_amount;\n                              return (\n                                <tr key={item.installment_id}>\n                                  <td>{item.installment_number}</td>\n                                  <td>{formatCurrency(installmentAmount)}</td>\n                                  <td>{new Date(item.payment_due_date).toLocaleDateString('th-TH')}</td>\n                                  <td>\n                                    {item.payment_date\n                                      ? new Date(item.payment_date).toLocaleDateString('th-TH')\n                                      : '-'}\n                                  </td>\n                                  <td>\n                                    <Badge bg={item.payment_status === 'paid' ? 'success' : 'secondary'}>\n                                      {item.payment_status === 'paid' ? 'ชำระแล้ว' : 'รอชำระ'}\n                                    </Badge>\n                                  </td>\n                                </tr>\n                              );\n                            })}\n                          </tbody>\n                        </Table>\n                      ) : (\n                        <p className=\"mb-0 text-muted\">ไม่มีข้อมูลงวดการผ่อนชำระ</p>\n                      )}\n                    </Col>\n                  )}\n                </Row>\n              </Card.Body>\n            </Card>\n          </div>\n\n          {order.order_status === 'pending' && (\n            <div className=\"order-detail__footer\">\n              <Button\n                variant=\"danger\"\n                size=\"lg\"\n                className=\"order-detail__cancel-btn\"\n                onClick={handleCancelOrder}\n                disabled={isCancelling}\n              >\n                {isCancelling ? 'กำลังยกเลิก...' : 'ยกเลิกคำสั่งซื้อ'}\n              </Button>\n            </div>\n          )}\n        </Card>\n      </Container>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}