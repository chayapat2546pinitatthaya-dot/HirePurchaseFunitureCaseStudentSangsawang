{"ast":null,"code":"var _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\Website_Sangswang\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport TopBar from './components/TopBar';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Home from './pages/Home';\nimport ProductDetail from './pages/ProductDetail';\nimport Cart from './pages/Cart';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport Profile from './pages/Profile';\nimport Orders from './pages/Orders';\nimport OrderDetail from './pages/OrderDetail';\nimport Cards from './pages/Cards';\nimport VerifyEmail from './pages/VerifyEmail';\nimport AdminLogin from './pages/admin/AdminLogin';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport AdminProducts from './pages/admin/AdminProducts';\nimport AdminOrders from './pages/admin/AdminOrders';\nimport AdminCustomers from './pages/admin/AdminCustomers';\nimport AdminCustomerDetail from './pages/admin/AdminCustomerDetail';\nimport AdminPaymentConfirmation from './pages/admin/AdminPaymentConfirmation';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AppContent({\n  user,\n  userToken,\n  login,\n  logout,\n  adminUser,\n  adminToken,\n  adminLogin,\n  adminLogout,\n  isSidebarCollapsed,\n  toggleSidebar,\n  adminNotifications,\n  markAdminOrdersSeen,\n  markAdminCustomersSeen,\n  markAdminPaymentsSeen\n}) {\n  _s();\n  const location = useLocation();\n  const isAdminRoute = location.pathname.startsWith('/admin');\n  const isLoginOrRegister = location.pathname === '/login' || location.pathname === '/register';\n  useEffect(() => {\n    if (isAdminRoute) {\n      if (adminToken) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${adminToken}`;\n      } else {\n        delete axios.defaults.headers.common['Authorization'];\n      }\n    } else {\n      if (userToken) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${userToken}`;\n      } else {\n        delete axios.defaults.headers.common['Authorization'];\n      }\n    }\n  }, [isAdminRoute, adminToken, userToken]);\n  useEffect(() => {\n    if (!isAdminRoute) {\n      document.body.classList.remove('admin-sidebar-collapsed');\n      return;\n    }\n    if (isSidebarCollapsed) {\n      document.body.classList.add('admin-sidebar-collapsed');\n    } else {\n      document.body.classList.remove('admin-sidebar-collapsed');\n    }\n    return () => {\n      document.body.classList.remove('admin-sidebar-collapsed');\n    };\n  }, [isAdminRoute, isSidebarCollapsed]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-wrapper\",\n    children: [!isAdminRoute && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n        user: user,\n        logout: logout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-content\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/products/:id\",\n          element: /*#__PURE__*/_jsxDEV(ProductDetail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          element: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: !user ? /*#__PURE__*/_jsxDEV(Login, {\n            login: login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 49\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 75\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: !user ? /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 67\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/forgot-password\",\n          element: !user ? /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 59\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 80\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/reset-password\",\n          element: !user ? /*#__PURE__*/_jsxDEV(ResetPassword, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 58\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 78\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/verify-email\",\n          element: /*#__PURE__*/_jsxDEV(VerifyEmail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile\",\n          element: user ? /*#__PURE__*/_jsxDEV(Profile, {\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 50\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders\",\n          element: user ? /*#__PURE__*/_jsxDEV(Orders, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 49\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 62\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders/:orderId\",\n          element: user ? /*#__PURE__*/_jsxDEV(OrderDetail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 58\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cards\",\n          element: user ? /*#__PURE__*/_jsxDEV(Cards, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 48\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 60\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/login\",\n          element: !adminUser ? /*#__PURE__*/_jsxDEV(AdminLogin, {\n            login: adminLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 35\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 71\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/dashboard\",\n          element: adminUser ? /*#__PURE__*/_jsxDEV(AdminDashboard, {\n            admin: adminUser,\n            logout: adminLogout,\n            isSidebarCollapsed: isSidebarCollapsed,\n            toggleSidebar: toggleSidebar,\n            adminNotifications: adminNotifications,\n            markAdminOrdersSeen: markAdminOrdersSeen,\n            markAdminCustomersSeen: markAdminCustomersSeen,\n            markAdminPaymentsSeen: markAdminPaymentsSeen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/products\",\n          element: adminUser ? /*#__PURE__*/_jsxDEV(AdminProducts, {\n            admin: adminUser,\n            logout: adminLogout,\n            isSidebarCollapsed: isSidebarCollapsed,\n            toggleSidebar: toggleSidebar,\n            adminNotifications: adminNotifications,\n            markAdminOrdersSeen: markAdminOrdersSeen,\n            markAdminCustomersSeen: markAdminCustomersSeen,\n            markAdminPaymentsSeen: markAdminPaymentsSeen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/orders\",\n          element: adminUser ? /*#__PURE__*/_jsxDEV(AdminOrders, {\n            admin: adminUser,\n            logout: adminLogout,\n            isSidebarCollapsed: isSidebarCollapsed,\n            toggleSidebar: toggleSidebar,\n            adminNotifications: adminNotifications,\n            markAdminOrdersSeen: markAdminOrdersSeen,\n            markAdminCustomersSeen: markAdminCustomersSeen,\n            markAdminPaymentsSeen: markAdminPaymentsSeen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/customers\",\n          element: adminUser ? /*#__PURE__*/_jsxDEV(AdminCustomers, {\n            admin: adminUser,\n            logout: adminLogout,\n            isSidebarCollapsed: isSidebarCollapsed,\n            toggleSidebar: toggleSidebar,\n            adminNotifications: adminNotifications,\n            markAdminOrdersSeen: markAdminOrdersSeen,\n            markAdminCustomersSeen: markAdminCustomersSeen,\n            markAdminPaymentsSeen: markAdminPaymentsSeen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/customers/:customerId\",\n          element: adminUser ? /*#__PURE__*/_jsxDEV(AdminCustomerDetail, {\n            admin: adminUser,\n            logout: adminLogout,\n            isSidebarCollapsed: isSidebarCollapsed,\n            toggleSidebar: toggleSidebar,\n            adminNotifications: adminNotifications,\n            markAdminOrdersSeen: markAdminOrdersSeen,\n            markAdminCustomersSeen: markAdminCustomersSeen,\n            markAdminPaymentsSeen: markAdminPaymentsSeen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/payment-confirmations\",\n          element: adminUser ? /*#__PURE__*/_jsxDEV(AdminPaymentConfirmation, {\n            admin: adminUser,\n            logout: adminLogout,\n            isSidebarCollapsed: isSidebarCollapsed,\n            toggleSidebar: toggleSidebar,\n            adminNotifications: adminNotifications,\n            markAdminOrdersSeen: markAdminOrdersSeen,\n            markAdminCustomersSeen: markAdminCustomersSeen,\n            markAdminPaymentsSeen: markAdminPaymentsSeen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/admin/login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), !isAdminRoute && !isLoginOrRegister && /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 47\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}\n_s(AppContent, \"Fsnn4T0K08C2NlVrqWhZtVJucvU=\", false, function () {\n  return [useLocation];\n});\n_c = AppContent;\nfunction App() {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [userToken, setUserToken] = useState('');\n  const [adminUser, setAdminUser] = useState(null);\n  const [adminToken, setAdminToken] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAdminSidebarCollapsed, setIsAdminSidebarCollapsed] = useState(() => {\n    if (typeof window === 'undefined') {\n      return false;\n    }\n    return localStorage.getItem('admin_sidebar_collapsed') === 'true';\n  });\n  const [adminNotifications, setAdminNotifications] = useState(() => {\n    if (typeof window === 'undefined') {\n      return {\n        orders: 0,\n        customers: 0,\n        payments: 0,\n        latestOrderId: 0,\n        latestCustomerId: 0,\n        latestPaymentId: 0\n      };\n    }\n    return {\n      orders: 0,\n      customers: 0,\n      payments: 0,\n      latestOrderId: Number(localStorage.getItem('admin_latest_order_id') || 0),\n      latestCustomerId: Number(localStorage.getItem('admin_latest_customer_id') || 0),\n      latestPaymentId: Number(localStorage.getItem('admin_latest_payment_id') || 0)\n    };\n  });\n  const notificationsPollRef = React.useRef(null);\n  useEffect(() => {\n    const customerToken = localStorage.getItem('token');\n    if (customerToken) {\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        setUser(JSON.parse(userData));\n      }\n      setUserToken(customerToken);\n    }\n    const storedAdminToken = localStorage.getItem('admin_token');\n    if (storedAdminToken) {\n      const adminData = localStorage.getItem('admin_user');\n      if (adminData) {\n        setAdminUser(JSON.parse(adminData));\n      }\n      setAdminToken(storedAdminToken);\n    }\n    setIsLoading(false);\n  }, []);\n\n  // Poll admin notifications when admin is logged in\n  useEffect(() => {\n    if (!adminToken) {\n      if (notificationsPollRef.current) {\n        clearInterval(notificationsPollRef.current);\n        notificationsPollRef.current = null;\n      }\n      return;\n    }\n    const fetchNotifications = async () => {\n      try {\n        const response = await axios.get('/api/admin/notification-summary');\n        const {\n          latestOrderId = 0,\n          latestCustomerId = 0,\n          latestPaymentId = 0\n        } = response.data || {};\n        setAdminNotifications(prev => {\n          const lastSeenOrderId = Number(localStorage.getItem('admin_last_seen_order_id') || 0);\n          const lastSeenCustomerId = Number(localStorage.getItem('admin_last_seen_customer_id') || 0);\n          const lastSeenPaymentId = Number(localStorage.getItem('admin_last_seen_payment_id') || 0);\n          const newOrders = Math.max(0, latestOrderId - lastSeenOrderId);\n          const newCustomers = Math.max(0, latestCustomerId - lastSeenCustomerId);\n          const newPayments = Math.max(0, latestPaymentId - lastSeenPaymentId);\n          return {\n            orders: newOrders,\n            customers: newCustomers,\n            payments: newPayments,\n            latestOrderId,\n            latestCustomerId,\n            latestPaymentId\n          };\n        });\n      } catch (error) {\n        console.error('Failed to fetch admin notifications:', error);\n      }\n    };\n    fetchNotifications();\n    notificationsPollRef.current = setInterval(fetchNotifications, 15000);\n    return () => {\n      if (notificationsPollRef.current) {\n        clearInterval(notificationsPollRef.current);\n        notificationsPollRef.current = null;\n      }\n    };\n  }, [adminToken]);\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('admin_sidebar_collapsed', isAdminSidebarCollapsed ? 'true' : 'false');\n    }\n  }, [isAdminSidebarCollapsed]);\n  const login = (userData, token) => {\n    setUser(userData);\n    setUserToken(token);\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(userData));\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('userChanged', {\n        detail: {\n          user: userData\n        }\n      }));\n    }\n  };\n  const logout = () => {\n    setUser(null);\n    setUserToken('');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    delete axios.defaults.headers.common['Authorization'];\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('userChanged', {\n        detail: {\n          user: null\n        }\n      }));\n    }\n  };\n  const adminLogin = (adminData, token) => {\n    setAdminUser(adminData);\n    setAdminToken(token);\n    localStorage.setItem('admin_token', token);\n    localStorage.setItem('admin_user', JSON.stringify(adminData));\n  };\n  const adminLogout = () => {\n    setAdminUser(null);\n    setAdminToken('');\n    localStorage.removeItem('admin_token');\n    localStorage.removeItem('admin_user');\n    delete axios.defaults.headers.common['Authorization'];\n  };\n  const markAdminOrdersSeen = () => {\n    setAdminNotifications(prev => {\n      const latestId = prev.latestOrderId || 0;\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('admin_last_seen_order_id', String(latestId));\n        localStorage.setItem('admin_latest_order_id', String(latestId));\n      }\n      return {\n        ...prev,\n        orders: 0\n      };\n    });\n  };\n  const markAdminCustomersSeen = () => {\n    setAdminNotifications(prev => {\n      const latestId = prev.latestCustomerId || 0;\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('admin_last_seen_customer_id', String(latestId));\n        localStorage.setItem('admin_latest_customer_id', String(latestId));\n      }\n      return {\n        ...prev,\n        customers: 0\n      };\n    });\n  };\n  const markAdminPaymentsSeen = () => {\n    setAdminNotifications(prev => {\n      const latestId = prev.latestPaymentId || 0;\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('admin_last_seen_payment_id', String(latestId));\n        localStorage.setItem('admin_latest_payment_id', String(latestId));\n      }\n      return {\n        ...prev,\n        payments: 0\n      };\n    });\n  };\n  const toggleSidebar = () => {\n    setIsAdminSidebarCollapsed(prev => !prev);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center\",\n      style: {\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {\n      user: user,\n      userToken: userToken,\n      login: login,\n      logout: logout,\n      adminUser: adminUser,\n      adminToken: adminToken,\n      adminLogin: adminLogin,\n      adminLogout: adminLogout,\n      isSidebarCollapsed: isAdminSidebarCollapsed,\n      toggleSidebar: toggleSidebar,\n      adminNotifications: adminNotifications,\n      markAdminOrdersSeen: markAdminOrdersSeen,\n      markAdminCustomersSeen: markAdminCustomersSeen,\n      markAdminPaymentsSeen: markAdminPaymentsSeen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 416,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"PmKgUC/rRjkkLAfV4ifRJy5V4lk=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useLocation","TopBar","Navbar","Footer","Home","ProductDetail","Cart","Login","Register","ForgotPassword","ResetPassword","Profile","Orders","OrderDetail","Cards","VerifyEmail","AdminLogin","AdminDashboard","AdminProducts","AdminOrders","AdminCustomers","AdminCustomerDetail","AdminPaymentConfirmation","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AppContent","user","userToken","login","logout","adminUser","adminToken","adminLogin","adminLogout","isSidebarCollapsed","toggleSidebar","adminNotifications","markAdminOrdersSeen","markAdminCustomersSeen","markAdminPaymentsSeen","_s","location","isAdminRoute","pathname","startsWith","isLoginOrRegister","defaults","headers","common","document","body","classList","remove","add","className","children","fileName","_jsxFileName","lineNumber","columnNumber","path","element","to","admin","_c","App","_s2","setUser","setUserToken","setAdminUser","setAdminToken","isLoading","setIsLoading","isAdminSidebarCollapsed","setIsAdminSidebarCollapsed","window","localStorage","getItem","setAdminNotifications","orders","customers","payments","latestOrderId","latestCustomerId","latestPaymentId","Number","notificationsPollRef","useRef","customerToken","userData","JSON","parse","storedAdminToken","adminData","current","clearInterval","fetchNotifications","response","get","data","prev","lastSeenOrderId","lastSeenCustomerId","lastSeenPaymentId","newOrders","Math","max","newCustomers","newPayments","error","console","setInterval","setItem","token","stringify","dispatchEvent","CustomEvent","detail","removeItem","latestId","String","style","height","role","_c2","$RefreshReg$"],"sources":["D:/xampp/htdocs/Website_Sangswang/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';\nimport TopBar from './components/TopBar';\nimport Navbar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Home from './pages/Home';\nimport ProductDetail from './pages/ProductDetail';\nimport Cart from './pages/Cart';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport ForgotPassword from './pages/ForgotPassword';\nimport ResetPassword from './pages/ResetPassword';\nimport Profile from './pages/Profile';\nimport Orders from './pages/Orders';\nimport OrderDetail from './pages/OrderDetail';\nimport Cards from './pages/Cards';\nimport VerifyEmail from './pages/VerifyEmail';\nimport AdminLogin from './pages/admin/AdminLogin';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport AdminProducts from './pages/admin/AdminProducts';\nimport AdminOrders from './pages/admin/AdminOrders';\nimport AdminCustomers from './pages/admin/AdminCustomers';\nimport AdminCustomerDetail from './pages/admin/AdminCustomerDetail';\nimport AdminPaymentConfirmation from './pages/admin/AdminPaymentConfirmation';\nimport axios from 'axios';\nimport './App.css';\n\nfunction AppContent({\n  user,\n  userToken,\n  login,\n  logout,\n  adminUser,\n  adminToken,\n  adminLogin,\n  adminLogout,\n  isSidebarCollapsed,\n  toggleSidebar,\n  adminNotifications,\n  markAdminOrdersSeen,\n  markAdminCustomersSeen,\n  markAdminPaymentsSeen\n}) {\n  const location = useLocation();\n  const isAdminRoute = location.pathname.startsWith('/admin');\n  const isLoginOrRegister = location.pathname === '/login' || location.pathname === '/register';\n\n  useEffect(() => {\n    if (isAdminRoute) {\n      if (adminToken) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${adminToken}`;\n      } else {\n        delete axios.defaults.headers.common['Authorization'];\n      }\n    } else {\n      if (userToken) {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${userToken}`;\n      } else {\n        delete axios.defaults.headers.common['Authorization'];\n      }\n    }\n  }, [isAdminRoute, adminToken, userToken]);\n\n  useEffect(() => {\n    if (!isAdminRoute) {\n      document.body.classList.remove('admin-sidebar-collapsed');\n      return;\n    }\n\n    if (isSidebarCollapsed) {\n      document.body.classList.add('admin-sidebar-collapsed');\n    } else {\n      document.body.classList.remove('admin-sidebar-collapsed');\n    }\n\n    return () => {\n      document.body.classList.remove('admin-sidebar-collapsed');\n    };\n  }, [isAdminRoute, isSidebarCollapsed]);\n\n  return (\n    <div className=\"app-wrapper\">\n      {!isAdminRoute && (\n        <>\n          <TopBar />\n          <Navbar user={user} logout={logout} />\n        </>\n      )}\n      <div className=\"app-content\">\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/products/:id\" element={<ProductDetail />} />\n          <Route path=\"/cart\" element={<Cart />} />\n          <Route path=\"/login\" element={!user ? <Login login={login} /> : <Navigate to=\"/\" />} />\n          <Route path=\"/register\" element={!user ? <Register /> : <Navigate to=\"/\" />} />\n          <Route path=\"/forgot-password\" element={!user ? <ForgotPassword /> : <Navigate to=\"/\" />} />\n          <Route path=\"/reset-password\" element={!user ? <ResetPassword /> : <Navigate to=\"/\" />} />\n          <Route path=\"/verify-email\" element={<VerifyEmail />} />\n          <Route path=\"/profile\" element={user ? <Profile user={user} /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/orders\" element={user ? <Orders /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/orders/:orderId\" element={user ? <OrderDetail /> : <Navigate to=\"/login\" />} />\n          <Route path=\"/cards\" element={user ? <Cards /> : <Navigate to=\"/login\" />} />\n          <Route\n            path=\"/admin/login\"\n            element={!adminUser ? <AdminLogin login={adminLogin} /> : <Navigate to=\"/admin/dashboard\" />}\n          />\n          <Route\n            path=\"/admin/dashboard\"\n            element={\n              adminUser ? (\n                <AdminDashboard\n                  admin={adminUser}\n                  logout={adminLogout}\n                  isSidebarCollapsed={isSidebarCollapsed}\n                  toggleSidebar={toggleSidebar}\n                  adminNotifications={adminNotifications}\n                  markAdminOrdersSeen={markAdminOrdersSeen}\n                  markAdminCustomersSeen={markAdminCustomersSeen}\n                  markAdminPaymentsSeen={markAdminPaymentsSeen}\n                />\n              ) : (\n                <Navigate to=\"/admin/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/admin/products\"\n            element={\n              adminUser ? (\n                <AdminProducts\n                  admin={adminUser}\n                  logout={adminLogout}\n                  isSidebarCollapsed={isSidebarCollapsed}\n                  toggleSidebar={toggleSidebar}\n                  adminNotifications={adminNotifications}\n                  markAdminOrdersSeen={markAdminOrdersSeen}\n                  markAdminCustomersSeen={markAdminCustomersSeen}\n                  markAdminPaymentsSeen={markAdminPaymentsSeen}\n                />\n              ) : (\n                <Navigate to=\"/admin/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/admin/orders\"\n            element={\n              adminUser ? (\n                <AdminOrders\n                  admin={adminUser}\n                  logout={adminLogout}\n                  isSidebarCollapsed={isSidebarCollapsed}\n                  toggleSidebar={toggleSidebar}\n                  adminNotifications={adminNotifications}\n                  markAdminOrdersSeen={markAdminOrdersSeen}\n                  markAdminCustomersSeen={markAdminCustomersSeen}\n                  markAdminPaymentsSeen={markAdminPaymentsSeen}\n                />\n              ) : (\n                <Navigate to=\"/admin/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/admin/customers\"\n            element={\n              adminUser ? (\n                <AdminCustomers\n                  admin={adminUser}\n                  logout={adminLogout}\n                  isSidebarCollapsed={isSidebarCollapsed}\n                  toggleSidebar={toggleSidebar}\n                  adminNotifications={adminNotifications}\n                  markAdminOrdersSeen={markAdminOrdersSeen}\n                  markAdminCustomersSeen={markAdminCustomersSeen}\n                  markAdminPaymentsSeen={markAdminPaymentsSeen}\n                />\n              ) : (\n                <Navigate to=\"/admin/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/admin/customers/:customerId\"\n            element={\n              adminUser ? (\n                <AdminCustomerDetail\n                  admin={adminUser}\n                  logout={adminLogout}\n                  isSidebarCollapsed={isSidebarCollapsed}\n                  toggleSidebar={toggleSidebar}\n                  adminNotifications={adminNotifications}\n                  markAdminOrdersSeen={markAdminOrdersSeen}\n                  markAdminCustomersSeen={markAdminCustomersSeen}\n                  markAdminPaymentsSeen={markAdminPaymentsSeen}\n                />\n              ) : (\n                <Navigate to=\"/admin/login\" />\n              )\n            }\n          />\n          <Route\n            path=\"/admin/payment-confirmations\"\n            element={\n              adminUser ? (\n                <AdminPaymentConfirmation\n                  admin={adminUser}\n                  logout={adminLogout}\n                  isSidebarCollapsed={isSidebarCollapsed}\n                  toggleSidebar={toggleSidebar}\n                  adminNotifications={adminNotifications}\n                  markAdminOrdersSeen={markAdminOrdersSeen}\n                  markAdminCustomersSeen={markAdminCustomersSeen}\n                  markAdminPaymentsSeen={markAdminPaymentsSeen}\n                />\n              ) : (\n                <Navigate to=\"/admin/login\" />\n              )\n            }\n          />\n        </Routes>\n      </div>\n      {!isAdminRoute && !isLoginOrRegister && <Footer />}\n    </div>\n  );\n}\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [userToken, setUserToken] = useState('');\n  const [adminUser, setAdminUser] = useState(null);\n  const [adminToken, setAdminToken] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAdminSidebarCollapsed, setIsAdminSidebarCollapsed] = useState(() => {\n    if (typeof window === 'undefined') {\n      return false;\n    }\n    return localStorage.getItem('admin_sidebar_collapsed') === 'true';\n  });\n  const [adminNotifications, setAdminNotifications] = useState(() => {\n    if (typeof window === 'undefined') {\n      return { orders: 0, customers: 0, payments: 0, latestOrderId: 0, latestCustomerId: 0, latestPaymentId: 0 };\n    }\n    return {\n      orders: 0,\n      customers: 0,\n      payments: 0,\n      latestOrderId: Number(localStorage.getItem('admin_latest_order_id') || 0),\n      latestCustomerId: Number(localStorage.getItem('admin_latest_customer_id') || 0),\n      latestPaymentId: Number(localStorage.getItem('admin_latest_payment_id') || 0)\n    };\n  });\n  const notificationsPollRef = React.useRef(null);\n\n  useEffect(() => {\n    const customerToken = localStorage.getItem('token');\n    if (customerToken) {\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        setUser(JSON.parse(userData));\n      }\n      setUserToken(customerToken);\n    }\n\n    const storedAdminToken = localStorage.getItem('admin_token');\n    if (storedAdminToken) {\n      const adminData = localStorage.getItem('admin_user');\n      if (adminData) {\n        setAdminUser(JSON.parse(adminData));\n      }\n      setAdminToken(storedAdminToken);\n    }\n\n    setIsLoading(false);\n  }, []);\n\n  // Poll admin notifications when admin is logged in\n  useEffect(() => {\n    if (!adminToken) {\n      if (notificationsPollRef.current) {\n        clearInterval(notificationsPollRef.current);\n        notificationsPollRef.current = null;\n      }\n      return;\n    }\n\n    const fetchNotifications = async () => {\n      try {\n        const response = await axios.get('/api/admin/notification-summary');\n        const { latestOrderId = 0, latestCustomerId = 0, latestPaymentId = 0 } = response.data || {};\n\n        setAdminNotifications((prev) => {\n          const lastSeenOrderId = Number(localStorage.getItem('admin_last_seen_order_id') || 0);\n          const lastSeenCustomerId = Number(localStorage.getItem('admin_last_seen_customer_id') || 0);\n          const lastSeenPaymentId = Number(localStorage.getItem('admin_last_seen_payment_id') || 0);\n\n          const newOrders = Math.max(0, latestOrderId - lastSeenOrderId);\n          const newCustomers = Math.max(0, latestCustomerId - lastSeenCustomerId);\n          const newPayments = Math.max(0, latestPaymentId - lastSeenPaymentId);\n\n          return {\n            orders: newOrders,\n            customers: newCustomers,\n            payments: newPayments,\n            latestOrderId,\n            latestCustomerId,\n            latestPaymentId\n          };\n        });\n      } catch (error) {\n        console.error('Failed to fetch admin notifications:', error);\n      }\n    };\n\n    fetchNotifications();\n    notificationsPollRef.current = setInterval(fetchNotifications, 15000);\n\n    return () => {\n      if (notificationsPollRef.current) {\n        clearInterval(notificationsPollRef.current);\n        notificationsPollRef.current = null;\n      }\n    };\n  }, [adminToken]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('admin_sidebar_collapsed', isAdminSidebarCollapsed ? 'true' : 'false');\n    }\n  }, [isAdminSidebarCollapsed]);\n\n  const login = (userData, token) => {\n    setUser(userData);\n    setUserToken(token);\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(userData));\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('userChanged', { detail: { user: userData } }));\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    setUserToken('');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    delete axios.defaults.headers.common['Authorization'];\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('userChanged', { detail: { user: null } }));\n    }\n  };\n\n  const adminLogin = (adminData, token) => {\n    setAdminUser(adminData);\n    setAdminToken(token);\n    localStorage.setItem('admin_token', token);\n    localStorage.setItem('admin_user', JSON.stringify(adminData));\n  };\n\n  const adminLogout = () => {\n    setAdminUser(null);\n    setAdminToken('');\n    localStorage.removeItem('admin_token');\n    localStorage.removeItem('admin_user');\n    delete axios.defaults.headers.common['Authorization'];\n  };\n\n  const markAdminOrdersSeen = () => {\n    setAdminNotifications((prev) => {\n      const latestId = prev.latestOrderId || 0;\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('admin_last_seen_order_id', String(latestId));\n        localStorage.setItem('admin_latest_order_id', String(latestId));\n      }\n      return { ...prev, orders: 0 };\n    });\n  };\n\n  const markAdminCustomersSeen = () => {\n    setAdminNotifications((prev) => {\n      const latestId = prev.latestCustomerId || 0;\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('admin_last_seen_customer_id', String(latestId));\n        localStorage.setItem('admin_latest_customer_id', String(latestId));\n      }\n      return { ...prev, customers: 0 };\n    });\n  };\n\n  const markAdminPaymentsSeen = () => {\n    setAdminNotifications((prev) => {\n      const latestId = prev.latestPaymentId || 0;\n      if (typeof window !== 'undefined') {\n        localStorage.setItem('admin_last_seen_payment_id', String(latestId));\n        localStorage.setItem('admin_latest_payment_id', String(latestId));\n      }\n      return { ...prev, payments: 0 };\n    });\n  };\n\n  const toggleSidebar = () => {\n    setIsAdminSidebarCollapsed((prev) => !prev);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '100vh' }}>\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <AppContent\n        user={user}\n        userToken={userToken}\n        login={login}\n        logout={logout}\n        adminUser={adminUser}\n        adminToken={adminToken}\n        adminLogin={adminLogin}\n        adminLogout={adminLogout}\n        isSidebarCollapsed={isAdminSidebarCollapsed}\n        toggleSidebar={toggleSidebar}\n        adminNotifications={adminNotifications}\n        markAdminOrdersSeen={markAdminOrdersSeen}\n        markAdminCustomersSeen={markAdminCustomersSeen}\n        markAdminPaymentsSeen={markAdminPaymentsSeen}\n      />\n    </Router>\n  );\n}\n\nexport default App;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}